webpackJsonp([41],{HBtY:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e={name:"order-detail",data:function(){return{id:"",baseInfo:{},stateArr:[{title:"待分配",state:"ASSIGNED"},{title:"待上门",state:"WAIT_DOOR"},{title:"已上门",state:"WAITING_DOOR"},{title:"待付款",state:"STAY_PAY"},{title:"待服务",state:"WAIT_SERVICE"},{title:"已完成",state:"FINISH"},{title:"售后中",state:"AFTER_SALE"},{title:"已取消",state:"CANCEL"},{title:"已关闭",state:"CLOSED"},{title:"异常",state:"EXCEPTION"}]}},methods:{getBaseInfo:function(){var t=this,s=this.id;this.$http.get("/repair/order/baseInfo?id="+s).then(function(s){if(0===s.data.code){var a=s.data.data,e=a.orderState;t.stateArr.forEach(function(t){t.state===e&&(a.orderState=t.title)}),t.baseInfo=s.data.data}else console.log("工单基础信息获取失败："+s.data.msg)})},viewStaff:function(t){this.$router.push({name:"staffDetail",query:{id:t}})}},mounted:function(){var t=this.$route.query.id;this.id=t,this.getBaseInfo(t)},destroyed:function(){sessionStorage.removeItem("viewOrderId")}},i={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"order-detail"},[a("Row",{attrs:{gutter:15}},[a("Col",{attrs:{lg:8,sm:24}},[a("Card",[a("div",{staticClass:"order-title",staticStyle:{"border-bottom":"1px solid #ddd","margin-bottom":"10px"}},[a("h4",[a("Icon",{attrs:{color:"#57a3f3",type:"ios-list",size:"28"}}),t._v(t._s(t.baseInfo.orderSn))],1),t._v(" "),a("span",{staticClass:"status"},[t._v(t._s(t.baseInfo.orderState))])]),t._v(" "),a("div",{staticClass:"order-item"},[a("span",{staticClass:"label"},[t._v("报修类型：")]),t._v(" "),a("span",{staticClass:"item-info"},[a("p",[t._v(t._s(t.baseInfo.repairCategoryName))]),t._v(" "),"Y"===t.baseInfo.isAcceptDtdFee?a("p",{staticClass:"text-grey"},[t._v("(同意上门费)")]):t._e()])]),t._v(" "),a("Divider"),t._v(" "),a("div",{staticClass:"order-item"},[a("span",{staticClass:"label"},[t._v("报修区域：")]),t._v(" "),a("span",{staticClass:"item-info"},[t._v(t._s(t.baseInfo.regionName))])]),t._v(" "),a("div",{staticClass:"order-item"},[a("span",{staticClass:"label"},[t._v(" 详细地址：")]),t._v(" "),a("span",{staticClass:"item-info"},[t._v(t._s(t.baseInfo.address))])]),t._v(" "),a("div",{staticClass:"order-item"},[a("span",{staticClass:"label"},[t._v("用户手机：")]),t._v(" "),a("span",{staticClass:"item-info"},[t._v(t._s(t.baseInfo.ysyUserPhone))])]),t._v(" "),a("div",{staticClass:"order-item"},[a("span",{staticClass:"label"},[t._v("联系电话：")]),t._v(" "),a("span",{staticClass:"item-info"},[t._v(t._s(t.baseInfo.userPhone))])]),t._v(" "),a("Divider"),t._v(" "),a("div",{staticClass:"order-item"},[a("span",{staticClass:"label"},[t._v("接单师傅：")]),t._v(" "),a("span",{staticClass:"item-info"},[a("span",[t._v(t._s(t.baseInfo.receiveUserName))]),t._v(" "),t.baseInfo.receiveUserId?a("span",{staticClass:"text-blue",staticStyle:{"margin-left":"10px",cursor:"pointer"},on:{click:function(s){t.viewStaff(t.baseInfo.receiveUserId)}}},[t._v("查看")]):t._e()])]),t._v(" "),a("div",{staticClass:"order-item"},[a("span",{staticClass:"label"},[t._v("师傅电话：")]),t._v(" "),a("span",{staticClass:"item-info"},[t._v(t._s(t.baseInfo.receiveUserPhone))])]),t._v(" "),a("Divider"),t._v(" "),a("div",{staticClass:"order-item"},[a("span",{staticClass:"label"},[t._v("工单费用：")]),t._v(" "),a("span",{staticClass:"item-info"},[t._v(t._s(t.baseInfo.amount))])]),t._v(" "),a("div",{staticClass:"order-item"},[a("span",{staticClass:"label"},[t._v("工单渠道：")]),t._v(" "),a("span",{staticClass:"item-info"},[t._v(t._s(t.baseInfo.orderSource))])]),t._v(" "),a("Divider"),t._v(" "),a("div",{staticClass:"order-item"},[a("span",{staticClass:"label"},[t._v("回访：")]),t._v(" "),a("span",{staticClass:"item-info"},[t._v(t._s(t.baseInfo.hasReturnVisit))])]),t._v(" "),a("div",{staticClass:"order-item"},[a("span",{staticClass:"label"},[t._v("质保中：")]),t._v(" "),a("span",{staticClass:"item-info"},[t._v(t._s(t.baseInfo.isWarranty))])]),t._v(" "),a("div",{staticClass:"order-item"},[a("span",{staticClass:"label"},[t._v("售后记录：")]),t._v(" "),a("span",{staticClass:"item-info"},[t._v(t._s(t.baseInfo.afterSalesServiceCount))])]),t._v(" "),a("div",{staticClass:"order-item"},[a("span",{staticClass:"label"},[t._v("故障原因：")]),t._v(" "),a("span",{staticClass:"item-info"},[t._v(t._s(t.baseInfo.faultReason))])]),t._v(" "),a("div",{staticClass:"order-item"},[a("span",{staticClass:"label"},[t._v("服务网点：")]),t._v(" "),a("span",{staticClass:"item-info"},[t._v(t._s(t.baseInfo.stationName))])]),t._v(" "),a("div",{staticClass:"order-item"},[a("span",{staticClass:"label"},[t._v("创建时间：")]),t._v(" "),a("span",{staticClass:"item-info"},[t._v(t._s(t.baseInfo.createTime))])])],1)],1),t._v(" "),a("Col",{attrs:{lg:16,sm:24}},[a("Card",{staticClass:"order-detail-right"},[a("ul",{staticClass:"mb-15 nav-ul"},[a("router-link",{attrs:{exact:"","active-class":"text-blue",replace:"",tag:"li",to:{name:"orderDetail",query:{id:t.id}}}},[t._v("处理流程")]),t._v(" "),a("router-link",{attrs:{"active-class":"text-blue",replace:"",tag:"li",to:{name:"feeDetail",query:{id:t.id}}}},[t._v("收费明细")]),t._v(" "),a("router-link",{attrs:{"active-class":"text-blue",replace:"",tag:"li",to:{name:"orderProve",query:{id:t.id}}}},[t._v("证据证明")]),t._v(" "),a("router-link",{attrs:{"active-class":"text-blue",replace:"",tag:"li",to:{name:"orderDetailIncome",query:{id:t.id}}}},[t._v("工单收益")]),t._v(" "),a("router-link",{attrs:{"active-class":"text-blue",replace:"",tag:"li",to:{name:"afterService",query:{id:t.id}}}},[t._v("售后质保")]),t._v(" "),a("router-link",{attrs:{"active-class":"text-blue",replace:"",tag:"li",to:{name:"visitedInfo",query:{id:t.id}}}},[t._v("回访信息")]),t._v(" "),a("router-link",{attrs:{"active-class":"text-blue",replace:"",tag:"li",to:{name:"orderControl",query:{id:t.id,state:t.baseInfo.orderState,isWarranty:t.baseInfo.isWarranty}}}},[t._v("订单操作")])],1),t._v(" "),a("router-view")],1)],1)],1)],1)},staticRenderFns:[]};var r=a("VU/8")(e,i,!1,function(t){a("SjrX")},"data-v-36c04ffe",null);s.default=r.exports},SjrX:function(t,s){}});