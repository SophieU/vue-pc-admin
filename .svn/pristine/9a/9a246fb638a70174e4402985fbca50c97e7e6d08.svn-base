{"version":3,"sources":["webpack:///src/pages/order/order-search.vue","webpack:///./src/pages/order/order-search.vue?420a","webpack:///./src/pages/order/order-search.vue","webpack:///src/pages/home/component/createOrder.vue","webpack:///./src/pages/home/component/createOrder.vue?c9ab","webpack:///./src/pages/home/component/createOrder.vue"],"names":["order_search","name","components","createOrder","computed","downLink","localStorage","getItem","data","_this2","this","telValid","showModal","filter","currentTab","orderNav","title","state","count","check","columns","key","align","minWidth","width","sortable","fixed","render","h","params","_this","props","type","size","on","click","id","row","sessionStorage","setItem","$router","push","query","lists","filterForm","pageNo","pageSize","totalCount","repairLists","methods","validateTel","val","test","downloadExcel","extends_default","dateRange","$http","post","responseType","then","res","blob","Blob","downloadElement","document","createElement","href","window","URL","createObjectURL","download","body","appendChild","removeChild","revokeObjectURL","toggleTab","ind","_this3","arr","map","item","index","closeModal","param","getLists","_this4","length","orderState","assign_default","code","list","console","log","msg","filterDateChange","createTimeStart","createTimeEnd","clearFilter","sureFilter","pageChange","pageSizeChange","mounted","_this5","util","getRepairType","watch","newVal","order_order_search","_vm","_h","$createElement","_c","_self","staticClass","_l","nav","class","$event","attrs","_v","_s","total","show-sizer","show-elevator","on-change","on-page-size-change","close","on-close","model","value","callback","$$v","expression","refs","label","$set","number","maxlength","on-blur","userPhone","_e","staticStyle","clear","true-value","false-value","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","rule","Error","loadingSearch","acceptFee","searchTelRes","newOrder","repairRegionId","repairCategoryId","ysyUserPhone","repairAddress","newOrderRule","required","message","trigger","validator","ysyTelSearch","repairDisSearch","regionList","stationLists","Boolean","activeModal","get","set","newValue","$refs","resetFields","$emit","searchThis","sureSearch","prop","getRegionLists","sureSend","validate","valid","order","repairType","split","parseFloat","$Message","info","success","error","searchTel","getStationLists","component_createOrder","ref","rules","label-position","filterable","remote","remote-method","loading","tel","gutter","span","dtdServiceFee"],"mappings":"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","file":"static/js/5.e10192275f0c56a628df.js","sourcesContent":["<template>\n  <Card>\n    <ul  class=\"tab-nav mb-15\">\n      <li @click=\"toggleTab(ind)\" :class=\"nav.check?'nav-active':''\" v-for=\"(nav,ind) in orderNav\" :key=\"nav.title\">\n        <Badge  :count=\"nav.count\">\n          <span class=\"nav-title\">{{nav.title}}</span>\n        </Badge>\n      </li>\n    </ul>\n    <div class=\"tab-content\">\n      <div class=\"clearfix mb-15\">\n        <div class=\"pull-left\">\n          <Button type=\"primary\" @click=\"showModal=true\">新建</Button>\n          <Button @click=\"filter=true\">筛选</Button>\n        </div>\n        <div class=\"pull-right\">\n          <Button type=\"primary\" @click=\"downloadExcel\">excel导出</Button>\n        </div>\n      </div>\n\n      <div class=\"tabler-wrapper\">\n        <Table :columns=\"columns\" :data=\"lists\"></Table>\n        <div class=\"pagination\">\n          <Page :total=\"totalCount\" show-sizer show-elevator\n                @on-change=\"pageChange\"\n                @on-page-size-change=\"pageSizeChange\"\n          ></Page>\n        </div>\n      </div>\n    </div>\n    <!--新建-->\n    <create-order :createOrder=\"showModal\" @close=\"closeModal\"></create-order>\n    <!--筛选-->\n    <Drawer width=\"425\" title=\"工单筛选\"  v-model=\"filter\" @on-close=\"clearFilter\">\n      <div class=\"clearfix mb-15\">\n        <div class=\"pull-left\">\n          <Button @click=\"clearFilter\">清空筛选条件</Button>\n        </div>\n        <div class=\"pull-right\">\n          <Button @click=\"sureFilter\" type=\"primary\">确定筛选</Button>\n        </div>\n      </div>\n      <Form :model=\"filterForm\" refs=\"filterForm\">\n        <FormItem label=\"报修类型\">\n          <Select v-model=\"filterForm.repairCategoryId\">\n            <Option v-for=\"item in repairLists\" :key=\"item.id\" :value=\"item.id\">{{item.name}}</Option>\n          </Select>\n        </FormItem>\n        <FormItem label=\"工单编号\">\n          <Input v-model=\"filterForm.orderSn\" />\n        </FormItem>\n\n        <FormItem label=\"服务人员\">\n          <Input v-model=\"filterForm.serviceUserName\"/>\n        </FormItem>\n        <FormItem label=\"联系电话\">\n          <Input v-model=\"filterForm.userPhone\" :number=\"true\"\n                 :maxlength=\"11\"\n                 @on-blur=\"validateTel(filterForm.userPhone)\"\n          />\n          <span v-if=\"!telValid\" class=\"text-red\">请输入正确格式的手机号</span>\n        </FormItem>\n        <FormItem label=\"工单状态\">\n          <div style=\"clear:both;\">\n            <CheckboxGroup v-model=\"filterForm.orderState\">\n              <Checkbox v-if=\"item.state\" v-for=\"item in orderNav\" :label=\"item.state\" :key=\"item.state\">{{item.title}}</Checkbox>\n              <!--<Checkbox label=\"待上门\"></Checkbox>-->\n              <!--<Checkbox label=\"已上门\"></Checkbox>-->\n              <!--<Checkbox label=\"待付款\"></Checkbox>-->\n              <!--<Checkbox label=\"待服务\"></Checkbox>-->\n              <!--<Checkbox label=\"已完成\"></Checkbox>-->\n              <!--<Checkbox label=\"售后中\"></Checkbox>-->\n              <!--<Checkbox label=\"已取消\"></Checkbox>-->\n              <!--<Checkbox label=\"已关闭\"></Checkbox>-->\n              <!--<Checkbox label=\"异常\"></Checkbox>-->\n            </CheckboxGroup>\n          </div>\n\n        </FormItem>\n        <FormItem label=\"是否上传证据\">\n          <i-switch v-model=\"filterForm.hasEvidence\" true-value=\"Y\" false-value=\"N\">\n            <span slot=\"open\">是</span>\n            <span slot=\"close\">否</span>\n          </i-switch>\n        </FormItem>\n        <FormItem label=\"是否有回访记录\">\n          <i-switch v-model=\"filterForm.hasReturnVisit\" true-value=\"Y\" false-value=\"N\">\n            <span slot=\"open\">是</span>\n            <span slot=\"close\">否</span>\n          </i-switch>\n        </FormItem>\n        <FormItem label=\"质保中\">\n          <i-switch v-model=\"filterForm.isWarranty\" true-value=\"Y\" false-value=\"N\">\n            <span slot=\"open\">是</span>\n            <span slot=\"close\">否</span>\n          </i-switch>\n        </FormItem>\n        <FormItem label=\"售后记录\">\n          <i-switch v-model=\"filterForm.afterSaleRecord\" true-value=\"Y\" false-value=\"N\">\n            <span slot=\"open\">是</span>\n            <span slot=\"close\">否</span>\n          </i-switch>\n        </FormItem>\n        <FormItem label=\"渠道来源\">\n          <Select v-model=\"filterForm.orderSource\">\n            <Option value=\"APP\">APP</Option>\n            <Option value=\"CALL_CENTER\">呼叫中心</Option>\n            <Option value=\"STATION\">服务网点</Option>\n          </Select>\n        </FormItem>\n        <FormItem label=\"创建时间\">\n          <DatePicker @on-change=\"filterDateChange\" v-model=\"filterForm.dateRange\" type=\"daterange\" style=\"width:100%;\"></DatePicker>\n        </FormItem>\n      </Form>\n    </Drawer>\n  </Card>\n</template>\n\n<script>\n  import util from '../../libs/util'\n  import createOrder from '../home/component/createOrder';\n    export default {\n        name: \"order-search\",\n      components:{\n        createOrder\n      },\n      computed:{\n          downLink(){\n            let baseUrl = localStorage.getItem('baseURL');\n            return baseUrl+'/repair/order/list/export';\n          }\n      },\n      data(){\n          return {\n            telValid:true, //fitlerForm中验证手机号\n            showModal:false,\n            filter:false,\n            currentTab:'',\n            orderNav:[\n              {title:'所有工单',state:'',count:10,check:true},\n              {title:'待分配',state:'ASSIGNED',count:0},\n              {title:'待上门',state:'WAIT_DOOR',count:0},\n              {title:'已上门',state:'WAITING_DOOR',count:0},\n              {title:'待付款',state:'STAY_PAY',count:0},\n              {title:'待服务',state:'WAIT_SERVICE',count:0},\n              {title:'已完成',state:'FINISH',count:0},\n              {title:'售后中',state:'AFTER_SALE',count:0},\n              {title:'已取消',state:'CANCEL',count:0},\n              {title:'已关闭',state:'CLOSED',count:0},\n              {title:'异常',state:'EXCEPTION',count:0},\n            ],\n            columns:[\n              {title:'工单编号',key:'orderSn',align:'center',minWidth:200},\n              {title:'客户手机',key:'userPhone',align:'center',width:120},\n              {title:'报修类型',key:'repairCategoryName',align:'center',width:100},\n              {title:'服务网点',key:'stationName',align:'center',width:100},\n              {title:'接单师傅',key:'receiveUserName',align:'center',width:100},\n              {title:'工单状态',key:'orderState',align:'center',width:100},\n              {title:'证据',key:'hasEvidence',align:'center',width:100},\n              {title:'回访记录',key:'hasReturnVisit',align:'center',width:100},\n              {title:'质保中',key:'qualityAssurance',align:'center',width:100},\n              {title:'售后记录',key:'afterSaleRecord',align:'center',width:100},\n              {title:'创建日期',key:'createTime',sortable:true,align:'center',minWidth:150},\n              {title:'操作',fixed:'right',align:'center',width:150,render:(h,params)=>{\n                let _this = this;\n                  return h('div',[\n                    h('Button',{\n                      props:{\n                        type:'text',\n                        size:'small'\n                      },\n                      on:{\n                        click(){\n                          let id= params.row.id;\n                          sessionStorage.setItem('viewOrderId',id);\n                          _this.$router.push({name:'orderDetail',query:{id:id}});\n                        }\n                      }\n                    },'查看'),\n                    h('Button',{\n                      props:{\n                        type:'text',\n                        size:'small'\n                      },\n                      on:{\n                        click:()=>{\n                          let id = params.row.id;\n                          sessionStorage.setItem('viewOrderId',id);\n                          _this.$router.push({name:'orderControl',query:{id:id}})\n                        }\n                      }\n                    },'处理订单'),\n                  ])\n                }},\n            ],\n            lists:[],\n            filterForm:{},\n            pageNo:1,\n            pageSize:10,\n            totalCount:0,\n            repairLists:[]\n          }\n      },\n      methods:{\n        validateTel(val){\n          let telReg = /^1[3456789]\\d{9}/;\n          if(!telReg.test(val)){\n            this.telValid=false;\n          }else{\n            this.telValid=true;\n          }\n        },\n        downloadExcel(){\n          let filterForm = {...this.filterForm};\n          delete filterForm.dateRange;\n          this.$http.post(`/repair/order/list/export`,{\n            ...filterForm\n          },{responseType:'blob'})\n            .then(res=>{\n              let blob = new Blob([res.data], {type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8'}); //application/vnd.openxmlformats-officedocument.spreadsheetml.sheet这里表示xlsx类型\n              let downloadElement = document.createElement('a');\n              let href = window.URL.createObjectURL(blob); //创建下载的链接\n              downloadElement.href = href;\n              downloadElement.download = '工单列表.xlsx'; //下载后文件名\n              document.body.appendChild(downloadElement);\n              downloadElement.click(); //点击下载\n              document.body.removeChild(downloadElement); //下载完成移除元素\n              window.URL.revokeObjectURL(href); //释放掉blob对象\n            })\n          // window.location.href=this.downLink;\n        },\n        toggleTab(ind){\n          let arr = this.orderNav.map((item,index)=>{\n            if(index===ind){\n              item.check=true;\n              this.currentTab=item.state;\n            }else{\n              item.check=false;\n            }\n            return item;\n          });\n\n          this.orderNav=arr;\n        },\n        closeModal(param){\n          this.showModal=false;\n        },\n        getLists(filter){\n          let query = `pageNo=${this.pageNo}&pageSize=${this.pageSize}`;\n          let param ={};\n          if(this.currentTab.length>0){\n            param.orderState=this.currentTab;\n          }\n\n          //筛选参数\n          if(filter){\n            param= Object.assign(param,filter);\n          }\n\n\n          this.$http.post(`/repair/order/list?${query}`,{\n            ...param\n          }).then(res=>{\n            if(res.data.code===0){\n              let data= res.data.data;\n              this.lists=data.list;\n              this.pageSize=data.pageSize;\n              this.totalCount=data.totalCount;\n              this.filter=false;\n            }else{\n              console.log('工单列表获取失败：'+res.data.msg);\n            }\n          })\n\n        },\n        filterDateChange(val){\n          this.filterForm.createTimeStart=val[0];\n          this.filterForm.createTimeEnd=val[1];\n        },\n        clearFilter(){\n          this.filterForm={};\n          this.filter=false;\n          this.getLists();\n        },\n        sureFilter(){\n          let filterForm = {...this.filterForm};\n          delete filterForm.dateRange;\n          this.getLists(filterForm);\n        },\n        pageChange(val){\n          this.pageNo=val;\n          this.getLists();\n        },\n        pageSizeChange(val){\n          this.pageSize=val;\n          this.getLists();\n        }\n      },\n      mounted(){\n          this.getLists();\n          util.getRepairType(data=>{\n            this.repairLists=data;\n          })\n      },\n      watch:{\n        currentTab(newVal){\n          this.getLists();\n        }\n      }\n    }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/order/order-search.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Card',[_c('ul',{staticClass:\"tab-nav mb-15\"},_vm._l((_vm.orderNav),function(nav,ind){return _c('li',{key:nav.title,class:nav.check?'nav-active':'',on:{\"click\":function($event){_vm.toggleTab(ind)}}},[_c('Badge',{attrs:{\"count\":nav.count}},[_c('span',{staticClass:\"nav-title\"},[_vm._v(_vm._s(nav.title))])])],1)})),_vm._v(\" \"),_c('div',{staticClass:\"tab-content\"},[_c('div',{staticClass:\"clearfix mb-15\"},[_c('div',{staticClass:\"pull-left\"},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.showModal=true}}},[_vm._v(\"新建\")]),_vm._v(\" \"),_c('Button',{on:{\"click\":function($event){_vm.filter=true}}},[_vm._v(\"筛选\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"pull-right\"},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.downloadExcel}},[_vm._v(\"excel导出\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"tabler-wrapper\"},[_c('Table',{attrs:{\"columns\":_vm.columns,\"data\":_vm.lists}}),_vm._v(\" \"),_c('div',{staticClass:\"pagination\"},[_c('Page',{attrs:{\"total\":_vm.totalCount,\"show-sizer\":\"\",\"show-elevator\":\"\"},on:{\"on-change\":_vm.pageChange,\"on-page-size-change\":_vm.pageSizeChange}})],1)],1)]),_vm._v(\" \"),_c('create-order',{attrs:{\"createOrder\":_vm.showModal},on:{\"close\":_vm.closeModal}}),_vm._v(\" \"),_c('Drawer',{attrs:{\"width\":\"425\",\"title\":\"工单筛选\"},on:{\"on-close\":_vm.clearFilter},model:{value:(_vm.filter),callback:function ($$v) {_vm.filter=$$v},expression:\"filter\"}},[_c('div',{staticClass:\"clearfix mb-15\"},[_c('div',{staticClass:\"pull-left\"},[_c('Button',{on:{\"click\":_vm.clearFilter}},[_vm._v(\"清空筛选条件\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"pull-right\"},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.sureFilter}},[_vm._v(\"确定筛选\")])],1)]),_vm._v(\" \"),_c('Form',{attrs:{\"model\":_vm.filterForm,\"refs\":\"filterForm\"}},[_c('FormItem',{attrs:{\"label\":\"报修类型\"}},[_c('Select',{model:{value:(_vm.filterForm.repairCategoryId),callback:function ($$v) {_vm.$set(_vm.filterForm, \"repairCategoryId\", $$v)},expression:\"filterForm.repairCategoryId\"}},_vm._l((_vm.repairLists),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.id}},[_vm._v(_vm._s(item.name))])}))],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"工单编号\"}},[_c('Input',{model:{value:(_vm.filterForm.orderSn),callback:function ($$v) {_vm.$set(_vm.filterForm, \"orderSn\", $$v)},expression:\"filterForm.orderSn\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"服务人员\"}},[_c('Input',{model:{value:(_vm.filterForm.serviceUserName),callback:function ($$v) {_vm.$set(_vm.filterForm, \"serviceUserName\", $$v)},expression:\"filterForm.serviceUserName\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"联系电话\"}},[_c('Input',{attrs:{\"number\":true,\"maxlength\":11},on:{\"on-blur\":function($event){_vm.validateTel(_vm.filterForm.userPhone)}},model:{value:(_vm.filterForm.userPhone),callback:function ($$v) {_vm.$set(_vm.filterForm, \"userPhone\", $$v)},expression:\"filterForm.userPhone\"}}),_vm._v(\" \"),(!_vm.telValid)?_c('span',{staticClass:\"text-red\"},[_vm._v(\"请输入正确格式的手机号\")]):_vm._e()],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"工单状态\"}},[_c('div',{staticStyle:{\"clear\":\"both\"}},[_c('CheckboxGroup',{model:{value:(_vm.filterForm.orderState),callback:function ($$v) {_vm.$set(_vm.filterForm, \"orderState\", $$v)},expression:\"filterForm.orderState\"}},_vm._l((_vm.orderNav),function(item){return (item.state)?_c('Checkbox',{key:item.state,attrs:{\"label\":item.state}},[_vm._v(_vm._s(item.title))]):_vm._e()}))],1)]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"是否上传证据\"}},[_c('i-switch',{attrs:{\"true-value\":\"Y\",\"false-value\":\"N\"},model:{value:(_vm.filterForm.hasEvidence),callback:function ($$v) {_vm.$set(_vm.filterForm, \"hasEvidence\", $$v)},expression:\"filterForm.hasEvidence\"}},[_c('span',{attrs:{\"slot\":\"open\"},slot:\"open\"},[_vm._v(\"是\")]),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"close\"},slot:\"close\"},[_vm._v(\"否\")])])],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"是否有回访记录\"}},[_c('i-switch',{attrs:{\"true-value\":\"Y\",\"false-value\":\"N\"},model:{value:(_vm.filterForm.hasReturnVisit),callback:function ($$v) {_vm.$set(_vm.filterForm, \"hasReturnVisit\", $$v)},expression:\"filterForm.hasReturnVisit\"}},[_c('span',{attrs:{\"slot\":\"open\"},slot:\"open\"},[_vm._v(\"是\")]),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"close\"},slot:\"close\"},[_vm._v(\"否\")])])],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"质保中\"}},[_c('i-switch',{attrs:{\"true-value\":\"Y\",\"false-value\":\"N\"},model:{value:(_vm.filterForm.isWarranty),callback:function ($$v) {_vm.$set(_vm.filterForm, \"isWarranty\", $$v)},expression:\"filterForm.isWarranty\"}},[_c('span',{attrs:{\"slot\":\"open\"},slot:\"open\"},[_vm._v(\"是\")]),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"close\"},slot:\"close\"},[_vm._v(\"否\")])])],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"售后记录\"}},[_c('i-switch',{attrs:{\"true-value\":\"Y\",\"false-value\":\"N\"},model:{value:(_vm.filterForm.afterSaleRecord),callback:function ($$v) {_vm.$set(_vm.filterForm, \"afterSaleRecord\", $$v)},expression:\"filterForm.afterSaleRecord\"}},[_c('span',{attrs:{\"slot\":\"open\"},slot:\"open\"},[_vm._v(\"是\")]),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"close\"},slot:\"close\"},[_vm._v(\"否\")])])],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"渠道来源\"}},[_c('Select',{model:{value:(_vm.filterForm.orderSource),callback:function ($$v) {_vm.$set(_vm.filterForm, \"orderSource\", $$v)},expression:\"filterForm.orderSource\"}},[_c('Option',{attrs:{\"value\":\"APP\"}},[_vm._v(\"APP\")]),_vm._v(\" \"),_c('Option',{attrs:{\"value\":\"CALL_CENTER\"}},[_vm._v(\"呼叫中心\")]),_vm._v(\" \"),_c('Option',{attrs:{\"value\":\"STATION\"}},[_vm._v(\"服务网点\")])],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"创建时间\"}},[_c('DatePicker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"daterange\"},on:{\"on-change\":_vm.filterDateChange},model:{value:(_vm.filterForm.dateRange),callback:function ($$v) {_vm.$set(_vm.filterForm, \"dateRange\", $$v)},expression:\"filterForm.dateRange\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-69c80e40\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/order/order-search.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-69c80e40\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./order-search.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./order-search.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./order-search.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-69c80e40\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./order-search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-69c80e40\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/order/order-search.vue\n// module id = null\n// module chunks = ","<style scoped lang=\"scss\">\n  @import './home-components.scss';\n</style>\n<template>\n  <div>\n    <Modal\n      v-model=\"activeModal\"\n      title=\"新建工单\"\n    >\n      <div class=\"new_order_wrapper\">\n        <Form ref=\"newOrder\" :model=\"newOrder\" :rules=\"newOrderRule\" label-position=\"top\">\n          <FormItem label=\"一生约绑定手机\" prop=\"ysyUserPhone\">\n            <Select\n              v-model=\"newOrder.ysyUserPhone\"\n              filterable\n              remote\n              :remote-method=\"searchTel\"\n              :loading=\"loadingSearch\">\n              <Option v-for=\"(tel, index) in searchTelRes\" :value=\"tel\" :key=\"index\">{{tel}}</Option>\n            </Select>\n          </FormItem>\n          <FormItem label=\"联系电话\"  prop=\"userPhone\">\n            <Input v-model=\"newOrder.userPhone\"></Input>\n          </FormItem>\n          <FormItem label=\"报修分类\"  prop=\"repairCategoryId\">\n            <Row :gutter=\"15\">\n              <Col span=\"14\">\n                <Select v-model=\"newOrder.repairCategoryId\">\n                  <Option v-for=\"item in repairLists\" :key=\"item.id\" :value=\"item.id+'+'+item.dtdServiceFee\">{{item.name}}{{item.dtdServiceFee?'(上门费：'+item.dtdServiceFee+')':''}}</Option>\n                </Select>\n              </Col>\n              <Col span=\"8\">\n                <Checkbox v-model=\"acceptFee\">接受上门费</Checkbox>\n              </Col>\n            </Row>\n\n          </FormItem>\n          <FormItem label=\"服务区域\"  prop=\"repairRegionId\">\n            <Select v-model=\"newOrder.repairRegionId\">\n              <Option v-for=\"item in regionList\" :key=\"item.id\" :value=\"item.id\">{{item.name}}</Option>\n            </Select>\n           <!-- <div class=\"search-wrap\">\n              <Input search suffix=\"ios-search\" v-model=\"newOrder.repairDis\" @on-search=\"searchThis('repairDis')\"></Input>\n              <transition name=\"fade\">\n                <div class=\"search-result\" v-if=\"repairDisSearch\">\n                  <ul>\n                    <li v-for=\"item in [1,2,3,4]\" @click=\"sureSearch('repairDis','网点1')\">网点1</li>\n                  </ul>\n                </div>\n              </transition>\n            </div>-->\n          </FormItem>\n          <FormItem label=\"详细地址\"  prop=\"repairAddress\">\n            <Input v-model=\"newOrder.repairAddress\"></Input>\n          </FormItem>\n        </Form>\n      </div>\n      <div slot=\"footer\">\n        <Button @click=\"activeModal=false\">取消</Button>\n        <Button @click=\"sureSend\" type=\"primary\">发送至服务网点</Button>\n      </div>\n    </Modal>\n  </div>\n\n</template>\n\n<script>\n  import util from '../../../libs/util';\n    export default {\n        name: \"createOrder\",\n      data(){\n          const validateTel=function(rule,val,callback){\n            let telReg = /^1[3456789]\\d{9}$/;\n            if(telReg.test(val)){\n              callback();\n            }else{\n              callback(new Error('请输入正确格式的手机号码'))\n            }\n          };\n          return{\n            loadingSearch:false,\n            acceptFee:false, //接受上门费\n            searchTelRes:[],\n            newOrder: {\n              repairRegionId: '', //参数为id,需决定是否收费\n              repairCategoryId: '',\n              userPhone: '',\n              ysyUserPhone: '',\n              repairAddress: '',\n            },\n            newOrderRule:{\n              repairAddress:[{required:true,message:'请输入报修地址',trigger:'blur'}],\n              repairCategoryId:[{required:true,message:'请选择报修分类',trigger:'change'}],\n              repairRegionId:[{required:true,message:'请选择报修区域',trigger:'change'}],\n              userPhone:[\n                {required:true,message:'请输入联系电话',trigger:'blur'},\n                {validator:validateTel,trigger:'blur'},\n                ],\n              ysyUserPhone:[\n                {required:true,message:'请输入一生约电话',trigger:'blur'},\n                {validator:validateTel,trigger:'blur'},\n              ],\n            },\n            ysyTelSearch:false, //ysyTel搜索状态标识\n            repairDisSearch:false, //服务区域搜索状态标识\n            repairLists:[],\n            regionList:[],\n            stationLists:[], //网点下拉\n          }\n      },\n      props:{\n        createOrder:Boolean\n      },\n      computed:{\n          activeModal:{\n            get:function(){\n              return this.createOrder;\n            },\n            set:function(newValue){\n              this.$refs['newOrder'].resetFields();\n              /*this.newOrder={\n                repairRegionId: '',\n                repairCategoryId: '',\n                userPhone: '',\n                ysyUserPhone: '',\n                repairAddress: '',\n              }*/\n              this.$emit('close','createModal');\n            }\n          }\n      },\n      methods:{\n          //点击搜索\n        searchThis(model){\n          this[model+'Search']=true;\n          //ajax查询\n        },\n        //选中搜索值\n        sureSearch(prop,val){\n          this.newOrder[prop] = val;\n          this[prop+'Search']=false;\n        },\n        getRegionLists(){\n          this.$http.get(`/repair/region/list`)\n            .then(res=>{\n              if(res.data.code===0){\n                this.regionList=res.data.data;\n              }else{\n               console.log('新建工单获取报修区域：'+res.data.msg);\n              }\n            })\n        },\n        sureSend(){\n            this.$refs['newOrder'].validate(valid=>{\n              if(valid){\n                let order = {...this.newOrder};\n                let repairType = this.newOrder.repairCategoryId.split('+');\n                order.repairCategoryId=repairType[0];\n                let needFee=parseFloat(repairType[1]);\n                if(needFee>0&&!this.acceptFee){\n                  this.$Message.info('请先勾选接受上门费，再继续');\n                  return false;\n                }\n               this.$http.post(`/repair/order/add`,{\n                 ...order\n               }).then(res=>{\n                 if(res.data.code===0){\n                   this.$Message.success('保存成功');\n                   this.activeModal=false;\n                   this.newOrder={\n                     repairRegionId: '',\n                     repairCategoryId: '',\n                     userPhone: '',\n                     ysyUserPhone: '',\n                     repairAddress: '',\n                   }\n                 }else{\n                   this.$Message.error('保存失败：'+res.data.msg);\n                   this.activeModal=false;\n                 }\n               })\n              }\n            })\n        },\n        searchTel(query){\n          if (query !== '') {\n            this.loadingSearch = true;\n            this.$http.get(`/repair/order/user/list?phone=${query}`)\n              .then(res=>{\n                this.loadingSearch=false;\n                if(res.data.code===0){\n                  this.searchTelRes=res.data.data;\n                }\n              })\n          } else {\n            this.searchTelRes = [];\n          }\n        }\n      },\n      mounted(){\n          this.getRegionLists();\n          util.getRepairType(data=>{\n            this.repairLists=data;\n          });\n          util.getStationLists(data=>{\n            this.stationLists=data;\n          })\n      }\n    }\n</script>\n\n\n\n\n// WEBPACK FOOTER //\n// src/pages/home/component/createOrder.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Modal',{attrs:{\"title\":\"新建工单\"},model:{value:(_vm.activeModal),callback:function ($$v) {_vm.activeModal=$$v},expression:\"activeModal\"}},[_c('div',{staticClass:\"new_order_wrapper\"},[_c('Form',{ref:\"newOrder\",attrs:{\"model\":_vm.newOrder,\"rules\":_vm.newOrderRule,\"label-position\":\"top\"}},[_c('FormItem',{attrs:{\"label\":\"一生约绑定手机\",\"prop\":\"ysyUserPhone\"}},[_c('Select',{attrs:{\"filterable\":\"\",\"remote\":\"\",\"remote-method\":_vm.searchTel,\"loading\":_vm.loadingSearch},model:{value:(_vm.newOrder.ysyUserPhone),callback:function ($$v) {_vm.$set(_vm.newOrder, \"ysyUserPhone\", $$v)},expression:\"newOrder.ysyUserPhone\"}},_vm._l((_vm.searchTelRes),function(tel,index){return _c('Option',{key:index,attrs:{\"value\":tel}},[_vm._v(_vm._s(tel))])}))],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"联系电话\",\"prop\":\"userPhone\"}},[_c('Input',{model:{value:(_vm.newOrder.userPhone),callback:function ($$v) {_vm.$set(_vm.newOrder, \"userPhone\", $$v)},expression:\"newOrder.userPhone\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"报修分类\",\"prop\":\"repairCategoryId\"}},[_c('Row',{attrs:{\"gutter\":15}},[_c('Col',{attrs:{\"span\":\"14\"}},[_c('Select',{model:{value:(_vm.newOrder.repairCategoryId),callback:function ($$v) {_vm.$set(_vm.newOrder, \"repairCategoryId\", $$v)},expression:\"newOrder.repairCategoryId\"}},_vm._l((_vm.repairLists),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.id+'+'+item.dtdServiceFee}},[_vm._v(_vm._s(item.name)+_vm._s(item.dtdServiceFee?'(上门费：'+item.dtdServiceFee+')':''))])}))],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"8\"}},[_c('Checkbox',{model:{value:(_vm.acceptFee),callback:function ($$v) {_vm.acceptFee=$$v},expression:\"acceptFee\"}},[_vm._v(\"接受上门费\")])],1)],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"服务区域\",\"prop\":\"repairRegionId\"}},[_c('Select',{model:{value:(_vm.newOrder.repairRegionId),callback:function ($$v) {_vm.$set(_vm.newOrder, \"repairRegionId\", $$v)},expression:\"newOrder.repairRegionId\"}},_vm._l((_vm.regionList),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.id}},[_vm._v(_vm._s(item.name))])}))],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"详细地址\",\"prop\":\"repairAddress\"}},[_c('Input',{model:{value:(_vm.newOrder.repairAddress),callback:function ($$v) {_vm.$set(_vm.newOrder, \"repairAddress\", $$v)},expression:\"newOrder.repairAddress\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{on:{\"click\":function($event){_vm.activeModal=false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.sureSend}},[_vm._v(\"发送至服务网点\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-24f30fb9\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/home/component/createOrder.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-24f30fb9\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./createOrder.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./createOrder.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./createOrder.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-24f30fb9\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./createOrder.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-24f30fb9\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/home/component/createOrder.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}