webpackJsonp([39],{Bm3I:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={name:"new-out",data:function(){return{showModal:!1,lists:[],organLists:[],formIn:{organ:"",sn:"",inputType:"",detailList:""},formInRules:{organ:[{required:!0,message:"请选择组织名称",trigger:"blur"}],sn:[{required:!0,message:"请输入单号",trigger:"blur"}],inputType:[{required:!0,message:"请选择入库类型",trigger:"blur"}]},repairType:[],searchForm:{categoryId:"",searchKey:"",pageSize:5,pageNo:1},materialTotal:0,materialLists:[],materialCheck:[]}},methods:{getOrgan:function(){var t=this;this.$http.get("/repair/material/input/order/departmentList").then(function(e){0===e.data.code?t.organLists=e.data.data:console.log("组织列表获取失败："+e.data.msg)})},sureIn:function(){this.formIn},getRepairType:function(){var t=this;this.$http.get("/repair/category/list").then(function(e){0===e.data.code?t.repairType=e.data.data:console.log("报修分类获取失败："+e.data.msg)})},searchMaterial:function(){var t=this,e=this.searchForm;this.$http.post("/repair/material/selectList?"+e).then(function(e){if(0===e.data.code){var a=e.data.data;t.materialLists=a.list,t.materialTotal=a.totalCount}else console.log("辅材搜索失败："+e.data.msg)})},materialPageChange:function(t){this.searchForm.pageSIze=t,this.searchMaterial()},sureMaterial:function(){var t=this.materialCheck;console.log(t)}},mounted:function(){this.getRepairType()}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Card",[a("div",{attrs:{slot:"extra"},slot:"extra"},[a("Button",{attrs:{type:"primary"},on:{click:t.sureIn}},[t._v("确认入库")])],1),t._v(" "),a("Form",{staticStyle:{"margin-right":"100px"},attrs:{refs:"formIn",model:t.formIn,rules:t.formInRules,"label-width":100}},[a("FormItem",{attrs:{label:"入库类型",prop:"inputType"}},[a("Select",{staticClass:"w300",model:{value:t.formIn.inputType,callback:function(e){t.$set(t.formIn,"inputType",e)},expression:"formIn.inputType"}},[a("Option",{attrs:{value:"PURCHASE"}},[t._v("采购")])],1)],1),t._v(" "),a("FormItem",{attrs:{label:"原始单号",prop:"sn"}},[a("Input",{staticClass:"w400",model:{value:t.formIn.sn,callback:function(e){t.$set(t.formIn,"sn",e)},expression:"formIn.sn"}})],1),t._v(" "),a("FormItem",{attrs:{label:"辅材"}},[a("Button",{on:{click:function(e){t.showModal=!0}}},[t._v("添加辅材")])],1)],1),t._v(" "),a("div",{staticClass:"table-wrapper"},[a("table",{staticClass:"native-table"},[a("thead",[a("tr",[a("th",[t._v("辅材名称")]),t._v(" "),a("th",[t._v("型号")]),t._v(" "),a("th",[t._v("单位")]),t._v(" "),a("th",[t._v("单价")]),t._v(" "),a("th",[t._v("数量")]),t._v(" "),a("th",[t._v("出库成本")]),t._v(" "),a("th",[t._v("入库成本")]),t._v(" "),a("th",[t._v("操作")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("软管")]),t._v(" "),a("td",[t._v("PVC25")]),t._v(" "),a("td",[t._v("米")]),t._v(" "),a("td",[t._v("5.00")]),t._v(" "),a("td",[a("InputNumber",{attrs:{step:1,min:1,placeholder:"请输入数量"}})],1),t._v(" "),a("td",[a("InputNumber",{attrs:{min:1,placeholder:"请输入出库成本"}})],1),t._v(" "),a("td",[a("InputNumber",{attrs:{min:1,placeholder:"请输入入库成本"}})],1),t._v(" "),a("td",[a("Button",{staticClass:"text-red",attrs:{type:"text"}},[t._v("删除")])],1)])])])]),t._v(" "),a("Modal",{attrs:{title:"选择辅材",width:"650"},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("div",[a("div",{staticClass:"mb-15"},[a("Form",{attrs:{model:t.searchForm,inline:"","label-width":70}},[a("FormItem",{attrs:{label:"辅材类别"}},[a("Select",{staticStyle:{width:"160px"},model:{value:t.searchForm.categoryId,callback:function(e){t.$set(t.searchForm,"categoryId",e)},expression:"searchForm.categoryId"}},t._l(t.repairType,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("FormItem",{attrs:{label:"关键字"}},[a("Input",{attrs:{placeholder:"请输入辅材名称或型号"},model:{value:t.searchForm.searchKey,callback:function(e){t.$set(t.searchForm,"searchKey",e)},expression:"searchForm.searchKey"}})],1),t._v(" "),a("Button",{attrs:{type:"primary"},on:{click:t.searchMaterial}},[t._v("搜索")])],1)],1),t._v(" "),a("div",{staticClass:"table-wrapper"},[a("CheckboxGroup",[a("table",{staticClass:"native-table",model:{value:t.materialCheck,callback:function(e){t.materialCheck=e},expression:"materialCheck"}},[a("thead",[a("tr",[a("th",[t._v("辅材名称")]),t._v(" "),a("th",[t._v("型号")]),t._v(" "),a("th",[t._v("单位")]),t._v(" "),a("th",[t._v("操作")])])]),t._v(" "),a("tbody",t._l(t.materialLists,function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(e.spec))]),t._v(" "),a("td",[t._v(t._s(e.unit))]),t._v(" "),a("td",[a("Checkbox",{attrs:{label:e.id}},[t._v("选择")])],1)])}))])]),t._v(" "),a("CheckboxGroup",{model:{value:t.materialCheck,callback:function(e){t.materialCheck=e},expression:"materialCheck"}},t._l(t.materialLists,function(e){return a("Checkbox",{key:e.id,attrs:{label:e.id}},[t._v("选择")])})),t._v("\n        "+t._s(t.materialCheck)+"\n        "),a("div",{staticClass:"pagination"},[a("Page",{attrs:{size:"small",total:t.materialTotal,"show-sizer":""},on:{"on-change":t.materialPageChange}})],1)],1)]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:function(e){t.showModal=!1}}},[t._v("关闭")]),t._v(" "),a("Button",{attrs:{type:"primary"},on:{click:t.sureMaterial}},[t._v("确认")])],1)])],1)},staticRenderFns:[]};var i=a("VU/8")(r,s,!1,function(t){a("Lxj6")},"data-v-31e66e48",null);e.default=i.exports},Lxj6:function(t,e){}});
//# sourceMappingURL=39.89775ea63953e72b4307.js.map