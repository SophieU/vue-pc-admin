{"version":3,"sources":["webpack:///src/pages/order/order-search.vue","webpack:///./src/pages/order/order-search.vue?4f0c","webpack:///./src/pages/order/order-search.vue","webpack:///src/pages/home/component/createOrder.vue","webpack:///./src/pages/home/component/createOrder.vue?81d3","webpack:///./src/pages/home/component/createOrder.vue"],"names":["order_search","name","components","createOrder","computed","downLink","localStorage","getItem","data","_this2","this","telValid","showModal","filter","currentTab","orderNav","title","state","count","check","columns","key","align","minWidth","width","sortable","fixed","render","h","params","_this","props","type","size","on","click","id","row","sessionStorage","setItem","$router","push","query","orderState","isWarranty","isInWarrantyPeriod","lists","filterForm","inFilter","pageNo","pageSize","totalCount","repairLists","methods","validateTel","val","test","downloadExcel","extends_default","dateRange","$http","post","responseType","then","res","util","toggleTab","ind","_this3","arr","map","item","index","closeModal","param","getLists","_this4","formatterParams","code","list","console","log","msg","filterDateChange","createTimeStart","createTimeEnd","clearFilter","sureFilter","pageChange","orderStateList","assign_default","pageSizeChange","getStateCount","_this5","get","total","i","length","num","parseInt","countNum","mounted","_this6","getRepairType","watch","newVal","order_order_search","_vm","_h","$createElement","_c","_self","staticClass","_l","nav","class","$event","attrs","overflow-count","_v","_s","show-sizer","show-elevator","on-change","on-page-size-change","close","on-close","model","value","callback","$$v","expression","refs","label","$set","number","maxlength","on-blur","userPhone","_e","staticStyle","clear","true-value","false-value","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","loadingSubmit","loadingSearch","acceptFee","searchTelRes","newOrder","repairRegionId","repairCategoryId","ysyUserPhone","repairAddress","newOrderRule","required","message","trigger","validator","rule","Error","ysyTelSearch","repairDisSearch","regionList","stationLists","ysyUserPhoneValid","Boolean","activeModal","set","newValue","$refs","resetFields","$emit","setTel","searchThis","sureSearch","prop","getRegionLists","sureSend","validate","valid","order","repairType","split","parseFloat","$Message","info","success","error","searchTel","getStationLists","component_createOrder","mask-closable","ref","rules","label-position","filterable","remote","remote-method","loading","on-query-change","tel","gutter","span","dtdServiceFee"],"mappings":"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","file":"static/js/8.cec6a742df6e723a828d.js","sourcesContent":["\n<template>\n  <Card>\n    <ul  class=\"tab-nav mb-15\">\n      <li @click=\"toggleTab(ind)\" :class=\"nav.check?'nav-active':''\" v-for=\"(nav,ind) in orderNav\" :key=\"nav.title\">\n        <Badge  :count=\"nav.count\" :overflow-count=\"99\">\n          <span class=\"nav-title\">{{nav.title}}</span>\n        </Badge>\n      </li>\n    </ul>\n    <div class=\"tab-content\">\n      <div class=\"clearfix mb-15\">\n        <div class=\"pull-left\">\n          <Button type=\"primary\" @click=\"showModal=true\">新建</Button>\n          <Button @click=\"filter=true\">筛选</Button>\n        </div>\n        <div class=\"pull-right\">\n          <Button type=\"primary\" @click=\"downloadExcel\">excel导出</Button>\n        </div>\n      </div>\n\n      <div class=\"tabler-wrapper\">\n        <Table :columns=\"columns\" :data=\"lists\"></Table>\n        <div class=\"pagination\">\n          <Page :total=\"totalCount\" show-sizer show-elevator\n                @on-change=\"pageChange\"\n                @on-page-size-change=\"pageSizeChange\"\n          ></Page>\n        </div>\n      </div>\n    </div>\n    <!--新建-->\n    <create-order :createOrder=\"showModal\" @close=\"closeModal\"></create-order>\n    <!--筛选-->\n    <Drawer width=\"425\" title=\"工单筛选\"  v-model=\"filter\" @on-close=\"clearFilter\">\n      <div class=\"clearfix mb-15\">\n        <div class=\"pull-left\">\n          <Button @click=\"clearFilter\">清空筛选条件</Button>\n        </div>\n        <div class=\"pull-right\">\n          <Button @click=\"sureFilter\" type=\"primary\">确定筛选</Button>\n        </div>\n      </div>\n      <Form :model=\"filterForm\" refs=\"filterForm\">\n        <FormItem label=\"报修类型\">\n          <Select v-model=\"filterForm.repairCategoryId\">\n            <Option v-for=\"item in repairLists\" :key=\"item.id\" :value=\"item.id\">{{item.name}}</Option>\n          </Select>\n        </FormItem>\n        <FormItem label=\"工单编号\">\n          <Input v-model=\"filterForm.orderSn\" />\n        </FormItem>\n\n        <FormItem label=\"服务人员\">\n          <Input v-model=\"filterForm.serviceUserName\"/>\n        </FormItem>\n        <FormItem label=\"联系电话\">\n          <Input v-model=\"filterForm.userPhone\" :number=\"true\"\n                 :maxlength=\"11\"\n                 @on-blur=\"validateTel(filterForm.userPhone)\"\n          />\n          <span v-if=\"!telValid\" class=\"text-red\">请输入正确格式的手机号</span>\n        </FormItem>\n        <FormItem label=\"工单状态\">\n          <div style=\"clear:both;\">\n            <CheckboxGroup v-model=\"filterForm.orderState\">\n              <Checkbox v-if=\"item.state\" v-for=\"item in orderNav\" :label=\"item.state\" :key=\"item.state\">{{item.title}}</Checkbox>\n            </CheckboxGroup>\n          </div>\n\n        </FormItem>\n        <FormItem label=\"是否上传证据\">\n          <i-switch v-model=\"filterForm.hasEvidence\" true-value=\"Y\" false-value=\"N\">\n            <span slot=\"open\">是</span>\n            <span slot=\"close\">否</span>\n          </i-switch>\n        </FormItem>\n        <FormItem label=\"是否有回访记录\">\n          <i-switch v-model=\"filterForm.hasReturnVisit\" true-value=\"Y\" false-value=\"N\">\n            <span slot=\"open\">是</span>\n            <span slot=\"close\">否</span>\n          </i-switch>\n        </FormItem>\n        <FormItem label=\"质保中\">\n          <i-switch v-model=\"filterForm.isWarranty\" true-value=\"Y\" false-value=\"N\">\n            <span slot=\"open\">是</span>\n            <span slot=\"close\">否</span>\n          </i-switch>\n        </FormItem>\n        <FormItem label=\"售后记录\">\n          <i-switch v-model=\"filterForm.afterSaleRecord\" true-value=\"Y\" false-value=\"N\">\n            <span slot=\"open\">是</span>\n            <span slot=\"close\">否</span>\n          </i-switch>\n        </FormItem>\n        <FormItem label=\"渠道来源\">\n          <Select v-model=\"filterForm.orderSource\">\n            <Option value=\"APP\">APP</Option>\n            <Option value=\"CALL_CENTER\">呼叫中心</Option>\n            <Option value=\"STATION\">服务网点</Option>\n          </Select>\n        </FormItem>\n        <FormItem label=\"创建时间\">\n          <DatePicker @on-change=\"filterDateChange\" v-model=\"filterForm.dateRange\" type=\"daterange\" style=\"width:100%;\"></DatePicker>\n        </FormItem>\n      </Form>\n    </Drawer>\n  </Card>\n</template>\n\n<script>\n  import util from '../../libs/util'\n  import createOrder from '../home/component/createOrder';\n    export default {\n        name: \"order-search\",\n      components:{\n        createOrder\n      },\n      computed:{\n          downLink(){\n            let baseUrl = localStorage.getItem('baseURL');\n            return baseUrl+'/repair/order/list/export';\n          }\n      },\n      data(){\n          return {\n            telValid:true, //fitlerForm中验证手机号\n            showModal:false,\n            filter:false,\n            currentTab:'',\n            orderNav:[\n              {title:'所有工单',state:'',count:0,check:true},\n              {title:'待分配',state:'ASSIGNED',count:0},\n              {title:'待上门',state:'WAIT_DOOR',count:0},\n              {title:'已上门',state:'WAITING_DOOR',count:0},\n              {title:'待付款',state:'STAY_PAY',count:0},\n              {title:'待服务',state:'WAIT_SERVICE',count:0},\n              {title:'已完成',state:'FINISH',count:0},\n              {title:'售后中',state:'AFTER_SALE',count:0},\n              {title:'已取消',state:'CANCEL',count:0},\n              {title:'已关闭',state:'CLOSED',count:0},\n              {title:'异常',state:'EXCEPTION',count:0},\n            ],\n            columns:[\n              {title:'工单编号',key:'orderSn',align:'center',minWidth:200},\n              {title:'客户手机',key:'userPhone',align:'center',width:120},\n              {title:'报修类型',key:'repairCategoryName',align:'center',width:100},\n              {title:'服务网点',key:'stationName',align:'center',width:100},\n              {title:'接单师傅',key:'receiveUserName',align:'center',width:100},\n              {title:'工单状态',key:'orderState',align:'center',width:100},\n              {title:'证据',key:'hasEvidence',align:'center',width:100},\n              {title:'回访记录',key:'hasReturnVisit',align:'center',width:100},\n              {title:'质保中',key:'qualityAssurance',align:'center',width:100},\n              {title:'售后中',key:'isAfterSale',align:'center',width:100},\n              {title:'售后记录',key:'afterSaleRecord',align:'center',width:100},\n              {title:'创建日期',key:'createTime',sortable:true,align:'center',minWidth:150},\n              {title:'操作',fixed:'right',align:'center',width:150,render:(h,params)=>{\n                let _this = this;\n                  return h('div',[\n                    h('Button',{\n                      props:{\n                        type:'text',\n                        size:'small'\n                      },\n                      on:{\n                        click(){\n                          let id= params.row.id;\n                          sessionStorage.setItem('viewOrderId',id);\n                          _this.$router.push({name:'orderDetail',query:{id:id}});\n                        }\n                      }\n                    },'查看'),\n                    h('Button',{\n                      props:{\n                        type:'text',\n                        size:'small'\n                      },\n                      on:{\n                        click:()=>{\n                          let id = params.row.id;\n                          let state=params.row.orderState;\n                          let isWarranty = params.row.isInWarrantyPeriod;\n                          sessionStorage.setItem('viewOrderId',id);\n                          _this.$router.push({name:'orderControl',query:{id:id,state:state,isWarranty:isWarranty}})\n                        }\n                      }\n                    },'处理订单'),\n                  ])\n                }},\n            ],\n            lists:[],\n            filterForm:{},\n            inFilter:false, //标记正在筛选中\n            pageNo:1,\n            pageSize:10,\n            totalCount:0,\n            repairLists:[]\n          }\n      },\n      methods:{\n        validateTel(val){\n          let telReg = /^1[3456789]\\d{9}/;\n          if(!telReg.test(val)){\n            this.telValid=false;\n          }else{\n            this.telValid=true;\n          }\n          // 为空\n          if(!val){\n            this.telValid=true;\n          }\n        },\n        downloadExcel(){\n          let filterForm = {...this.filterForm};\n          delete filterForm.dateRange;\n          this.$http.post(`/repair/order/list/export`,{\n            ...filterForm\n          },{responseType:'blob'})\n            .then(res=>{\n              util.downloadExcel(res);\n            })\n\n        },\n        toggleTab(ind){\n          let arr = this.orderNav.map((item,index)=>{\n            if(index===ind){\n              item.check=true;\n              this.currentTab=item.state;\n            }else{\n              item.check=false;\n            }\n            return item;\n          });\n\n          this.orderNav=arr;\n        },\n        closeModal(param){\n          this.showModal=false;\n          this.getLists()\n        },\n        //获取工单列表\n        getLists(filter){\n          let query = `pageNo=${this.pageNo}&pageSize=${this.pageSize}`;\n          let param =util.formatterParams(filter);\n\n\n          this.$http.post(`/repair/order/list?${query}&${param}`).then(res=>{\n            if(res.data.code===0){\n              let data= res.data.data;\n              this.lists=data.list;\n              this.pageSize=data.pageSize;\n              this.totalCount=data.totalCount;\n              this.filter=false;\n            }else{\n              console.log('工单列表获取失败：'+res.data.msg);\n            }\n          })\n\n        },\n        //筛选\n        filterDateChange(val){\n          this.filterForm.createTimeStart=val[0];\n          this.filterForm.createTimeEnd=val[1];\n        },\n        clearFilter(){\n          this.filterForm={};\n          this.filter=false;\n          this.inFilter=false;\n          this.getLists();\n        },\n        sureFilter(){\n          let filterForm = {...this.filterForm};\n          delete filterForm.dateRange;\n          this.inFilter=true;\n          this.getLists(filterForm);\n        },\n        pageChange(val){\n          this.pageNo=val;\n          let currentTab = this.currentTab;\n          let param = {orderStateList:currentTab};\n          if(this.inFilter){\n            delete this.filterForm.dateRange;\n            param=Object.assign({},param,this.filterForm);\n          }\n\n\n          this.getLists(param);\n        },\n        pageSizeChange(val){\n          this.pageSize=val;\n          let currentTab = this.currentTab;\n          let param = {orderStateList:currentTab};\n          if(this.inFilter){\n            delete this.filterForm.dateRange;\n            param=Object.assign({},param,this.filterForm);\n          }\n          this.getLists(param);\n        },\n        //不同状态的数值\n        getStateCount(){\n          this.$http.get(`/repair/order/state/count`)\n            .then(res=>{\n              if(res.data.code===0){\n                let data = res.data.data;\n                let total=0;\n                this.orderNav=this.orderNav.map(item=>{\n                  for(let i=0;i<data.length;i++){\n                    let state = data[i].state;\n                    if(item.state===state){\n                      let num = parseInt(data[i].countNum);\n                      item.count=num;\n                      total+=num;\n                    }\n\n                  }\n                  return item;\n                });\n                this.orderNav[0].count=total;\n              }else{\n                console.log('/repair/order/state/count:'+res.data.msg);\n              }\n            })\n        }\n      },\n      mounted(){\n          this.getLists({orderStateList:''});\n          this.getStateCount();\n          util.getRepairType(data=>{\n            this.repairLists=data;\n          })\n      },\n      watch:{\n        currentTab(newVal){\n          this.pageNo=1;\n          this.pageSize=10;\n          this.totalCount=0;\n          this.getLists({orderStateList:newVal});\n        }\n      }\n    }\n</script>\n\n<style scoped lang=\"scss\">\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/order/order-search.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Card',[_c('ul',{staticClass:\"tab-nav mb-15\"},_vm._l((_vm.orderNav),function(nav,ind){return _c('li',{key:nav.title,class:nav.check?'nav-active':'',on:{\"click\":function($event){_vm.toggleTab(ind)}}},[_c('Badge',{attrs:{\"count\":nav.count,\"overflow-count\":99}},[_c('span',{staticClass:\"nav-title\"},[_vm._v(_vm._s(nav.title))])])],1)})),_vm._v(\" \"),_c('div',{staticClass:\"tab-content\"},[_c('div',{staticClass:\"clearfix mb-15\"},[_c('div',{staticClass:\"pull-left\"},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.showModal=true}}},[_vm._v(\"新建\")]),_vm._v(\" \"),_c('Button',{on:{\"click\":function($event){_vm.filter=true}}},[_vm._v(\"筛选\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"pull-right\"},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.downloadExcel}},[_vm._v(\"excel导出\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"tabler-wrapper\"},[_c('Table',{attrs:{\"columns\":_vm.columns,\"data\":_vm.lists}}),_vm._v(\" \"),_c('div',{staticClass:\"pagination\"},[_c('Page',{attrs:{\"total\":_vm.totalCount,\"show-sizer\":\"\",\"show-elevator\":\"\"},on:{\"on-change\":_vm.pageChange,\"on-page-size-change\":_vm.pageSizeChange}})],1)],1)]),_vm._v(\" \"),_c('create-order',{attrs:{\"createOrder\":_vm.showModal},on:{\"close\":_vm.closeModal}}),_vm._v(\" \"),_c('Drawer',{attrs:{\"width\":\"425\",\"title\":\"工单筛选\"},on:{\"on-close\":_vm.clearFilter},model:{value:(_vm.filter),callback:function ($$v) {_vm.filter=$$v},expression:\"filter\"}},[_c('div',{staticClass:\"clearfix mb-15\"},[_c('div',{staticClass:\"pull-left\"},[_c('Button',{on:{\"click\":_vm.clearFilter}},[_vm._v(\"清空筛选条件\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"pull-right\"},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.sureFilter}},[_vm._v(\"确定筛选\")])],1)]),_vm._v(\" \"),_c('Form',{attrs:{\"model\":_vm.filterForm,\"refs\":\"filterForm\"}},[_c('FormItem',{attrs:{\"label\":\"报修类型\"}},[_c('Select',{model:{value:(_vm.filterForm.repairCategoryId),callback:function ($$v) {_vm.$set(_vm.filterForm, \"repairCategoryId\", $$v)},expression:\"filterForm.repairCategoryId\"}},_vm._l((_vm.repairLists),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.id}},[_vm._v(_vm._s(item.name))])}))],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"工单编号\"}},[_c('Input',{model:{value:(_vm.filterForm.orderSn),callback:function ($$v) {_vm.$set(_vm.filterForm, \"orderSn\", $$v)},expression:\"filterForm.orderSn\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"服务人员\"}},[_c('Input',{model:{value:(_vm.filterForm.serviceUserName),callback:function ($$v) {_vm.$set(_vm.filterForm, \"serviceUserName\", $$v)},expression:\"filterForm.serviceUserName\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"联系电话\"}},[_c('Input',{attrs:{\"number\":true,\"maxlength\":11},on:{\"on-blur\":function($event){_vm.validateTel(_vm.filterForm.userPhone)}},model:{value:(_vm.filterForm.userPhone),callback:function ($$v) {_vm.$set(_vm.filterForm, \"userPhone\", $$v)},expression:\"filterForm.userPhone\"}}),_vm._v(\" \"),(!_vm.telValid)?_c('span',{staticClass:\"text-red\"},[_vm._v(\"请输入正确格式的手机号\")]):_vm._e()],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"工单状态\"}},[_c('div',{staticStyle:{\"clear\":\"both\"}},[_c('CheckboxGroup',{model:{value:(_vm.filterForm.orderState),callback:function ($$v) {_vm.$set(_vm.filterForm, \"orderState\", $$v)},expression:\"filterForm.orderState\"}},_vm._l((_vm.orderNav),function(item){return (item.state)?_c('Checkbox',{key:item.state,attrs:{\"label\":item.state}},[_vm._v(_vm._s(item.title))]):_vm._e()}))],1)]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"是否上传证据\"}},[_c('i-switch',{attrs:{\"true-value\":\"Y\",\"false-value\":\"N\"},model:{value:(_vm.filterForm.hasEvidence),callback:function ($$v) {_vm.$set(_vm.filterForm, \"hasEvidence\", $$v)},expression:\"filterForm.hasEvidence\"}},[_c('span',{attrs:{\"slot\":\"open\"},slot:\"open\"},[_vm._v(\"是\")]),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"close\"},slot:\"close\"},[_vm._v(\"否\")])])],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"是否有回访记录\"}},[_c('i-switch',{attrs:{\"true-value\":\"Y\",\"false-value\":\"N\"},model:{value:(_vm.filterForm.hasReturnVisit),callback:function ($$v) {_vm.$set(_vm.filterForm, \"hasReturnVisit\", $$v)},expression:\"filterForm.hasReturnVisit\"}},[_c('span',{attrs:{\"slot\":\"open\"},slot:\"open\"},[_vm._v(\"是\")]),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"close\"},slot:\"close\"},[_vm._v(\"否\")])])],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"质保中\"}},[_c('i-switch',{attrs:{\"true-value\":\"Y\",\"false-value\":\"N\"},model:{value:(_vm.filterForm.isWarranty),callback:function ($$v) {_vm.$set(_vm.filterForm, \"isWarranty\", $$v)},expression:\"filterForm.isWarranty\"}},[_c('span',{attrs:{\"slot\":\"open\"},slot:\"open\"},[_vm._v(\"是\")]),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"close\"},slot:\"close\"},[_vm._v(\"否\")])])],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"售后记录\"}},[_c('i-switch',{attrs:{\"true-value\":\"Y\",\"false-value\":\"N\"},model:{value:(_vm.filterForm.afterSaleRecord),callback:function ($$v) {_vm.$set(_vm.filterForm, \"afterSaleRecord\", $$v)},expression:\"filterForm.afterSaleRecord\"}},[_c('span',{attrs:{\"slot\":\"open\"},slot:\"open\"},[_vm._v(\"是\")]),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"close\"},slot:\"close\"},[_vm._v(\"否\")])])],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"渠道来源\"}},[_c('Select',{model:{value:(_vm.filterForm.orderSource),callback:function ($$v) {_vm.$set(_vm.filterForm, \"orderSource\", $$v)},expression:\"filterForm.orderSource\"}},[_c('Option',{attrs:{\"value\":\"APP\"}},[_vm._v(\"APP\")]),_vm._v(\" \"),_c('Option',{attrs:{\"value\":\"CALL_CENTER\"}},[_vm._v(\"呼叫中心\")]),_vm._v(\" \"),_c('Option',{attrs:{\"value\":\"STATION\"}},[_vm._v(\"服务网点\")])],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"创建时间\"}},[_c('DatePicker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"daterange\"},on:{\"on-change\":_vm.filterDateChange},model:{value:(_vm.filterForm.dateRange),callback:function ($$v) {_vm.$set(_vm.filterForm, \"dateRange\", $$v)},expression:\"filterForm.dateRange\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3ab81e63\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/order/order-search.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3ab81e63\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./order-search.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./order-search.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./order-search.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3ab81e63\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./order-search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3ab81e63\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/order/order-search.vue\n// module id = null\n// module chunks = ","<style scoped lang=\"scss\">\n  @import './home-components.scss';\n</style>\n<template>\n  <div>\n    <Modal\n      :mask-closable=\"false\"\n      v-model=\"activeModal\"\n      title=\"新建工单\"\n    >\n      <div class=\"new_order_wrapper\">\n        <Form ref=\"newOrder\" :model=\"newOrder\" :rules=\"newOrderRule\" label-position=\"top\">\n          <FormItem label=\"一生约绑定手机（非必填）\" prop=\"ysyUserPhone\">\n            <Select\n              v-model=\"newOrder.ysyUserPhone\"\n              filterable\n              remote\n              :remote-method=\"searchTel\"\n              :loading=\"loadingSearch\"\n              @on-query-change=\"setTel\"\n            >\n              <Option v-for=\"(tel, index) in searchTelRes\" :value=\"tel\" :key=\"index\">{{tel}}</Option>\n            </Select>\n            <span v-if=\"!ysyUserPhoneValid\" class=\"text-red\">请填写正确的手机号</span>\n          </FormItem>\n          <FormItem label=\"联系电话\"  prop=\"userPhone\">\n            <Input v-model=\"newOrder.userPhone\"></Input>\n          </FormItem>\n          <FormItem label=\"报修分类\"  prop=\"repairCategoryId\">\n            <Row :gutter=\"15\">\n              <Col span=\"14\">\n                <Select v-model=\"newOrder.repairCategoryId\">\n                  <Option v-for=\"item in repairLists\" :key=\"item.id\" :value=\"item.id+'+'+item.dtdServiceFee\">{{item.name}}{{item.dtdServiceFee?'(上门费：'+item.dtdServiceFee+')':''}}</Option>\n                </Select>\n              </Col>\n              <Col span=\"8\">\n                <Checkbox v-model=\"acceptFee\">接受上门费</Checkbox>\n              </Col>\n            </Row>\n\n          </FormItem>\n          <FormItem label=\"服务区域\"  prop=\"repairRegionId\">\n            <Select v-model=\"newOrder.repairRegionId\">\n              <Option v-for=\"item in regionList\" :key=\"item.id\" :value=\"item.id\">{{item.name}}</Option>\n            </Select>\n           <!-- <div class=\"search-wrap\">\n              <Input search suffix=\"ios-search\" v-model=\"newOrder.repairDis\" @on-search=\"searchThis('repairDis')\"></Input>\n              <transition name=\"fade\">\n                <div class=\"search-result\" v-if=\"repairDisSearch\">\n                  <ul>\n                    <li v-for=\"item in [1,2,3,4]\" @click=\"sureSearch('repairDis','网点1')\">网点1</li>\n                  </ul>\n                </div>\n              </transition>\n            </div>-->\n          </FormItem>\n          <FormItem label=\"详细地址\"  prop=\"repairAddress\">\n            <Input v-model=\"newOrder.repairAddress\"></Input>\n          </FormItem>\n        </Form>\n      </div>\n      <div slot=\"footer\">\n        <Button @click=\"activeModal=false\">取消</Button>\n        <Button :loading=\"loadingSubmit\" @click=\"sureSend\" type=\"primary\">发送至服务网点</Button>\n      </div>\n    </Modal>\n  </div>\n\n</template>\n\n<script>\n  import util from '../../../libs/util';\n    export default {\n        name: \"createOrder\",\n      data(){\n          const validateTel=function(rule,val,callback){\n            let telReg = /^1[3456789]\\d{9}$/;\n            if(telReg.test(val)||val.length<=0){\n              callback();\n            }else{\n              callback(new Error('请输入正确格式的手机号码'))\n            }\n          };\n          return{\n            loadingSubmit:false,\n            loadingSearch:false,\n            acceptFee:false, //接受上门费\n            searchTelRes:[],\n            newOrder: {\n              repairRegionId: '', //参数为id,需决定是否收费\n              repairCategoryId: '',\n              userPhone: '',\n              ysyUserPhone: '',\n              repairAddress: '',\n            },\n            newOrderRule:{\n              repairAddress:[{required:true,message:'请输入报修地址',trigger:'blur'}],\n              repairCategoryId:[{required:true,message:'请选择报修分类',trigger:'change'}],\n              repairRegionId:[{required:true,message:'请选择报修区域',trigger:'change'}],\n              userPhone:[\n                {required:true,message:'请输入联系电话',trigger:'blur'},\n                {validator:validateTel,trigger:'blur'},\n                ],\n            },\n            ysyTelSearch:false, //ysyTel搜索状态标识\n            repairDisSearch:false, //服务区域搜索状态标识\n            repairLists:[],\n            regionList:[],\n            stationLists:[], //网点下拉\n            ysyUserPhoneValid:true,\n          }\n      },\n      props:{\n        createOrder:Boolean\n      },\n      computed:{\n          activeModal:{\n            get:function(){\n              return this.createOrder;\n            },\n            set:function(newValue){\n              this.$refs['newOrder'].resetFields();\n              /*this.newOrder={\n                repairRegionId: '',\n                repairCategoryId: '',\n                userPhone: '',\n                ysyUserPhone: '',\n                repairAddress: '',\n              }*/\n              this.$emit('close','createModal');\n            }\n          }\n      },\n      methods:{\n        setTel(query){\n          if(query.length<=0){\n            this.ysyUserPhoneValid=true;\n            this.newOrder.ysyUserPhone='';\n            return;\n          }\n          let telReg = /^1[3456789]\\d{9}$/;\n          if(telReg.test(query)){\n            this.ysyUserPhoneValid=true;\n            this.newOrder.ysyUserPhone=query;\n          }else{\n            this.ysyUserPhoneValid=false;\n          }\n\n        },\n        // inputYsyTel(val){\n        //   if(!val){ //收起时\n        //     if(this.newOrder.ysyUserPhone.length<0&&this.ysyUserPhoneTemp.length>0){\n        //       this.newOrder.ysyUserPhone=this.ysyUserPhoneTemp\n        //     }\n        //   }\n        // },\n          //点击搜索\n        searchThis(model){\n          this[model+'Search']=true;\n          //ajax查询\n        },\n        //选中搜索值\n        sureSearch(prop,val){\n          this.newOrder[prop] = val;\n          this[prop+'Search']=false;\n        },\n        getRegionLists(){\n          this.$http.get(`/repair/region/list`)\n            .then(res=>{\n              if(res.data.code===0){\n                this.regionList=res.data.data;\n              }else{\n               console.log('新建工单获取报修区域：'+res.data.msg);\n              }\n            })\n        },\n        sureSend(){\n            this.loadingSubmit=true;\n            this.$refs['newOrder'].validate(valid=>{\n              if(valid){\n                let order = {...this.newOrder};\n                let repairType = this.newOrder.repairCategoryId.split('+');\n                order.repairCategoryId=repairType[0];\n                let needFee=parseFloat(repairType[1]);\n                if(needFee>0&&!this.acceptFee){\n                  this.$Message.info('请先勾选接受上门费，再继续');\n                  this.loadingSubmit=false;\n                  return false;\n                }\n               this.$http.post(`/repair/order/add`,{\n                 ...order\n               }).then(res=>{\n                 if(res.data.code===0){\n                   this.$Message.success('保存成功');\n                   this.activeModal=false;\n                   this.newOrder={\n                     repairRegionId: '',\n                     repairCategoryId: '',\n                     userPhone: '',\n                     ysyUserPhone: '',\n                     repairAddress: '',\n                   }\n                 }else{\n                   this.$Message.error('保存失败：'+res.data.msg);\n                   this.activeModal=false;\n                 }\n\n                 this.loadingSubmit=false;\n               })\n              }else{\n                this.loadingSubmit=false;\n              }\n            })\n        },\n        searchTel(query){\n          if (query !== '') {\n            this.loadingSearch = true;\n            this.$http.get(`/repair/order/user/list?phone=${query}`)\n              .then(res=>{\n                this.loadingSearch=false;\n                if(res.data.code===0){\n                  this.searchTelRes=res.data.data;\n                }\n              })\n          } else {\n            this.searchTelRes = [];\n          }\n        }\n      },\n      mounted(){\n          this.getRegionLists();\n          util.getRepairType(data=>{\n            this.repairLists=data;\n          });\n          util.getStationLists(data=>{\n            this.stationLists=data;\n          })\n      }\n    }\n</script>\n\n\n\n\n// WEBPACK FOOTER //\n// src/pages/home/component/createOrder.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Modal',{attrs:{\"mask-closable\":false,\"title\":\"新建工单\"},model:{value:(_vm.activeModal),callback:function ($$v) {_vm.activeModal=$$v},expression:\"activeModal\"}},[_c('div',{staticClass:\"new_order_wrapper\"},[_c('Form',{ref:\"newOrder\",attrs:{\"model\":_vm.newOrder,\"rules\":_vm.newOrderRule,\"label-position\":\"top\"}},[_c('FormItem',{attrs:{\"label\":\"一生约绑定手机（非必填）\",\"prop\":\"ysyUserPhone\"}},[_c('Select',{attrs:{\"filterable\":\"\",\"remote\":\"\",\"remote-method\":_vm.searchTel,\"loading\":_vm.loadingSearch},on:{\"on-query-change\":_vm.setTel},model:{value:(_vm.newOrder.ysyUserPhone),callback:function ($$v) {_vm.$set(_vm.newOrder, \"ysyUserPhone\", $$v)},expression:\"newOrder.ysyUserPhone\"}},_vm._l((_vm.searchTelRes),function(tel,index){return _c('Option',{key:index,attrs:{\"value\":tel}},[_vm._v(_vm._s(tel))])})),_vm._v(\" \"),(!_vm.ysyUserPhoneValid)?_c('span',{staticClass:\"text-red\"},[_vm._v(\"请填写正确的手机号\")]):_vm._e()],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"联系电话\",\"prop\":\"userPhone\"}},[_c('Input',{model:{value:(_vm.newOrder.userPhone),callback:function ($$v) {_vm.$set(_vm.newOrder, \"userPhone\", $$v)},expression:\"newOrder.userPhone\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"报修分类\",\"prop\":\"repairCategoryId\"}},[_c('Row',{attrs:{\"gutter\":15}},[_c('Col',{attrs:{\"span\":\"14\"}},[_c('Select',{model:{value:(_vm.newOrder.repairCategoryId),callback:function ($$v) {_vm.$set(_vm.newOrder, \"repairCategoryId\", $$v)},expression:\"newOrder.repairCategoryId\"}},_vm._l((_vm.repairLists),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.id+'+'+item.dtdServiceFee}},[_vm._v(_vm._s(item.name)+_vm._s(item.dtdServiceFee?'(上门费：'+item.dtdServiceFee+')':''))])}))],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"8\"}},[_c('Checkbox',{model:{value:(_vm.acceptFee),callback:function ($$v) {_vm.acceptFee=$$v},expression:\"acceptFee\"}},[_vm._v(\"接受上门费\")])],1)],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"服务区域\",\"prop\":\"repairRegionId\"}},[_c('Select',{model:{value:(_vm.newOrder.repairRegionId),callback:function ($$v) {_vm.$set(_vm.newOrder, \"repairRegionId\", $$v)},expression:\"newOrder.repairRegionId\"}},_vm._l((_vm.regionList),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.id}},[_vm._v(_vm._s(item.name))])}))],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"详细地址\",\"prop\":\"repairAddress\"}},[_c('Input',{model:{value:(_vm.newOrder.repairAddress),callback:function ($$v) {_vm.$set(_vm.newOrder, \"repairAddress\", $$v)},expression:\"newOrder.repairAddress\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{on:{\"click\":function($event){_vm.activeModal=false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('Button',{attrs:{\"loading\":_vm.loadingSubmit,\"type\":\"primary\"},on:{\"click\":_vm.sureSend}},[_vm._v(\"发送至服务网点\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2825d4ea\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/home/component/createOrder.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2825d4ea\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./createOrder.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./createOrder.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./createOrder.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2825d4ea\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./createOrder.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2825d4ea\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/home/component/createOrder.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}