{"version":3,"sources":["webpack:///src/pages/service/area-admin.vue","webpack:///./src/pages/service/area-admin.vue?39f4","webpack:///./src/pages/service/area-admin.vue"],"names":["service_area_admin","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","gutter","span","slot","_v","staticStyle","margin-top","type","on","click","addArea","_l","area","ind","class","editInd","$event","editThis","_s","name","deleteArea","label-width","label","width","model","value","callback","$$v","areaName","expression","loading","loadingSave","saveThis","staticRenderFns","Component","__webpack_require__","normalizeComponent","data","areaLists","editId","radioCheck","methods","getAreaLists","_this","$http","get","then","res","code","id","_this2","apiUrl","paramStr","length","post","$Message","success","error","msg","push","_this3","len","splice","mounted","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/24.6cd21af40b63a7ffece7.js","sourcesContent":["<style scoped lang=\"scss\">\n  @import './service.scss';\n</style>\n<template>\n    <Card class=\"area-setting\">\n      <Row :gutter=\"30\">\n        <Col span=\"12\">\n          <Card>\n            <p slot=\"title\">区域列表</p>\n            <Button @click=\"addArea\" slot=\"extra\" type=\"primary\" style=\"margin-top: -5px;\">添加区域</Button>\n            <ul class=\"area-lists\">\n              <li @click=\"editThis(ind)\" :class=\"editInd===ind?'active':''\" v-for=\"(area,ind) in areaLists\">{{area.name}}</li>\n            </ul>\n          </Card>\n        </Col>\n        <Col span=\"12\">\n          <Card>\n            <p slot=\"title\">区域信息</p>\n            <Button @click=\"deleteArea\" slot=\"extra\" type=\"error\" style=\"margin-top: -5px;\">删除区域</Button>\n            <div>\n              <Form :label-width=\"100\">\n                <FormItem label=\"区域名称\">\n                  <Input style=\"width: 300px;\" v-model=\"areaName\"/>\n                </FormItem>\n                <div class=\"inner-center\">\n                  <Button :loading=\"loadingSave\" @click=\"saveThis\" class=\"lang-btn\" type=\"primary\" >保存</Button>\n                </div>\n              </Form>\n            </div>\n          </Card>\n        </Col>\n      </Row>\n    </Card>\n</template>\n\n<script>\n    export default {\n        name: \"area-admin\",\n        data(){\n          return {\n            areaLists:[],\n            editInd:0,\n            areaName:'',\n            editId:'', //编辑的Id\n            radioCheck:'',\n            loadingSave:false,\n          }\n        },\n      methods:{\n          getAreaLists(){\n            this.$http.get('/repair/region/list')\n              .then(res=>{\n                let data = res.data;\n                if(data.code===0){\n                  this.areaLists=data.data;\n                }\n                //首次设置默认\n                if(this.editInd===0){\n                  this.areaName=this.areaLists[0].name;\n                  this.editId=this.areaLists[0].id;\n                }\n              })\n          },\n          editThis(ind){\n            this.editInd=ind;\n            this.editId=this.areaLists[ind].id;\n            this.areaName=this.areaLists[ind].name;\n          },\n        //保存设置\n          saveThis(){\n              let name = this.areaName;\n              let id = this.editId;\n              let apiUrl='';\n              let paramStr='';\n              let control='edit';\n              //修改\n              if(name.length>0&&id.length>0){\n                apiUrl='/repair/region/edit';\n                paramStr=`name=${name}&id=${id}`;\n              }else if(name.length>0&&!id.length){\n                //新增\n                apiUrl='/repair/region/add';\n                paramStr=`name=${name}`;\n                control='add'\n              }\n              this.loadingSave=true;\n              this.$http.post(`${apiUrl}?${paramStr}`)\n                .then(res=>{\n                  let data = res.data;\n                  if(data.code===0){\n                    this.$Message.success('保存成功');\n                    this.getAreaLists();\n                    this.loadingSave=false;\n                  }else{\n                    this.$Message.error(`保存失败,${data.msg}`)\n                  }\n                })\n          },\n        //添加区域\n        addArea(){\n            this.areaLists.push({name:'新建小区',id:''});\n            this.editInd=this.areaLists.length-1;\n            this.areaName='新建小区';\n            this.editId='';\n        },\n        deleteArea(){\n            let id = this.editId;\n            let len = this.areaLists.length;\n            if(!id){\n              this.areaLists.splice(len-1,1);\n            }else{\n              this.$http.get(`/repair/region/list?id=${id}`)\n                .then(res=>{\n                  let data = res.data;\n                  if(data.code===0){\n                    this.$Message.success('删除成功');\n                    this.getAreaLists();\n                  }else{\n                    this.$Message.error(`删除失败，${data.msg}`)\n                  }\n                })\n            }\n\n        }\n      },\n      mounted(){\n          this.getAreaLists();\n      }\n    }\n</script>\n\n\n\n\n// WEBPACK FOOTER //\n// src/pages/service/area-admin.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Card',{staticClass:\"area-setting\"},[_c('Row',{attrs:{\"gutter\":30}},[_c('Col',{attrs:{\"span\":\"12\"}},[_c('Card',[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"区域列表\")]),_vm._v(\" \"),_c('Button',{staticStyle:{\"margin-top\":\"-5px\"},attrs:{\"slot\":\"extra\",\"type\":\"primary\"},on:{\"click\":_vm.addArea},slot:\"extra\"},[_vm._v(\"添加区域\")]),_vm._v(\" \"),_c('ul',{staticClass:\"area-lists\"},_vm._l((_vm.areaLists),function(area,ind){return _c('li',{class:_vm.editInd===ind?'active':'',on:{\"click\":function($event){_vm.editThis(ind)}}},[_vm._v(_vm._s(area.name))])}))],1)],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"12\"}},[_c('Card',[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"区域信息\")]),_vm._v(\" \"),_c('Button',{staticStyle:{\"margin-top\":\"-5px\"},attrs:{\"slot\":\"extra\",\"type\":\"error\"},on:{\"click\":_vm.deleteArea},slot:\"extra\"},[_vm._v(\"删除区域\")]),_vm._v(\" \"),_c('div',[_c('Form',{attrs:{\"label-width\":100}},[_c('FormItem',{attrs:{\"label\":\"区域名称\"}},[_c('Input',{staticStyle:{\"width\":\"300px\"},model:{value:(_vm.areaName),callback:function ($$v) {_vm.areaName=$$v},expression:\"areaName\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"inner-center\"},[_c('Button',{staticClass:\"lang-btn\",attrs:{\"loading\":_vm.loadingSave,\"type\":\"primary\"},on:{\"click\":_vm.saveThis}},[_vm._v(\"保存\")])],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7bd761b6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/service/area-admin.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7bd761b6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./area-admin.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./area-admin.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./area-admin.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7bd761b6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./area-admin.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7bd761b6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/service/area-admin.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}