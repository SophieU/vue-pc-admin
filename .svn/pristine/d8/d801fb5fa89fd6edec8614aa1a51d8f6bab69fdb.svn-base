webpackJsonp([6],{"5biH":function(e,t){},"Hc+b":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"infoCard",components:{countUp:r("ga8b").a},props:{idName:String,color:{type:String,default:"#2d8cf0"},icon:{type:String,default:"md-analytics"},title:{type:String},endVal:{type:Number},countSize:{type:String,default:"30px"},countWeight:{type:Number,default:700},iconSize:{type:Number,default:40}}},n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Card",{attrs:{padding:0}},[r("div",{staticClass:"info-card-con"},[r("Col",{staticClass:"infor-card-total-con",style:{backgroundColor:e.color,color:"white"},attrs:{span:"8"}},[r("Row",{staticClass:"height-100",attrs:{type:"flex",align:"middle",justify:"center"}},[r("Icon",{attrs:{type:e.icon,size:"42"}})],1)],1),e._v(" "),r("Col",{staticClass:"height-100",attrs:{span:"16"}},[r("Row",{staticClass:"data-card height-100",attrs:{type:"flex",justify:"space-between",align:"middle"}},[r("count-up",{staticClass:"infor-card-count user-created-count",attrs:{"id-name":e.idName,"end-val":e.endVal,color:e.color,countSize:e.countSize,countWeight:e.countWeight}},[r("p",{staticClass:"total-text",attrs:{slot:"intro"},slot:"intro"},[e._v(e._s(e.title))])])],1)],1)],1)])},staticRenderFns:[]};var i=r("VU/8")(a,n,!1,function(e){r("Xgsw")},"data-v-17fa4135",null).exports,o={name:"orderWeekTrend",data:function(){return{}},mounted:function(){var e=this;this.$nextTick(function(){var t=echarts.init(document.getElementById("order_week_trend"));e.$http.get("/index/7days/order/increment/report").then(function(e){if(0===e.data.code){var r=e.data.data.detailList,a={title:{text:"近7日工单走势",x:"center"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:r.map(function(e){return e.name})},yAxis:{type:"value"},series:[{name:"工单数量",data:r.map(function(e){return e.value}),type:"line",symbol:"triangle",symbolSize:20,lineStyle:{normal:{color:"#2d8cf0",width:4,type:"dashed"}},itemStyle:{normal:{borderWidth:3,borderColor:"#2d8cf0",color:"#fff"}}}]};t.setOption(a)}window.addEventListener("resize",function(){t.resize()})})})}},s={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"order_week_trend"}})},staticRenderFns:[]};var c=r("VU/8")(o,s,!1,function(e){r("RWSy")},"data-v-1ee7dfca",null).exports,l=r("spv5"),d=r("TVG1"),u={name:"createOrder",props:{initiateService:Boolean},data:function(){var e=this;return{newService:{regionName:"",repairCategoryId:"",orderSn:"",userPhone:"",serverName:"",searchType:2},orderIdSearch:!1,repairLists:[],totalCount:0,pageNo:1,pageSize:5,orderLists:[],orderColumn:[{title:"工单详情",align:"left",render:function(e,t){var r=t.row;return e("span","工单"+r.orderSn+"，\n              "+r.regionName+"，\n              "+r.stationName+"，\n              "+r.repairCategoryName+"，\n              "+r.userPhone+"，\n              "+r.orderState+"，\n              "+("-"===r.isInWarrantyPeriod?"":"质保中，")+"\n              "+(r.orderAmount>0?"￥"+r.orderAmount+"，":"")+"\n              "+(r.materialNames?"辅材使用："+r.materialNames:""))}},{title:"操作",align:"center",width:80,render:function(t,r){var a=e;return t("Button",{props:{type:"primary",size:"small"},on:{click:function(){var e=r.row.id,t=r.row.orderState,n=r.row.isInWarrantyPeriod;a.$router.push({name:"orderControl",query:{id:e,state:t,isWarranty:n}})}}},"查看")}}]}},computed:{activeModal:{get:function(){return this.initiateService},set:function(e){this.$emit("close","initiateService")}}},methods:{searchOrder:function(e){var t=this,r=e.pageNo?e.pageNo:1,a=d.a.formatterParams(this.newService),n="pageNo="+r+"&pageSize="+this.pageSize;this.$http.post("/index/search/order?"+n+"&"+a).then(function(e){if(0===e.data.code){var r=e.data.data;t.totalCount=r.totalCount,t.orderLists=r.list,t.pageNo=r.pageNo}})},pageChange:function(e){this.pageNo=e,this.searchOrder({pageNo:e})},modalChange:function(e){e||(this.newService={regionName:"",repairCategoryId:"",orderSn:"",userPhone:"",searchType:1,pageNo:1},this.orderLists=[])}},mounted:function(){var e=this;d.a.getRepairType(function(t){e.repairLists=t})}},p={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Modal",{attrs:{"mask-closable":!1,title:"发起售后",width:"650"},on:{"on-visible-change":e.modalChange},model:{value:e.activeModal,callback:function(t){e.activeModal=t},expression:"activeModal"}},[r("div",{staticClass:"create_service"},[r("Form",{attrs:{model:e.newService,inline:"","label-width":80}},[r("FormItem",{attrs:{label:"服务区域"}},[r("Input",{model:{value:e.newService.regionName,callback:function(t){e.$set(e.newService,"regionName",t)},expression:"newService.regionName"}})],1),e._v(" "),r("FormItem",{attrs:{label:"工单编号"}},[r("Input",{model:{value:e.newService.orderSn,callback:function(t){e.$set(e.newService,"orderSn",t)},expression:"newService.orderSn"}})],1),e._v(" "),r("FormItem",{attrs:{label:"师傅名称"}},[r("Input",{model:{value:e.newService.serverName,callback:function(t){e.$set(e.newService,"serverName",t)},expression:"newService.serverName"}})],1),e._v(" "),r("FormItem",{attrs:{label:"联系手机"}},[r("Input",{model:{value:e.newService.userPhone,callback:function(t){e.$set(e.newService,"userPhone",t)},expression:"newService.userPhone"}})],1),e._v(" "),r("FormItem",{attrs:{label:"报修分类"}},[r("Select",{staticStyle:{width:"162px"},attrs:{clearable:!0},model:{value:e.newService.repairCategoryId,callback:function(t){e.$set(e.newService,"repairCategoryId",t)},expression:"newService.repairCategoryId"}},e._l(e.repairLists,function(t){return r("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.name))])}))],1),e._v(" "),r("Button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:e.searchOrder}},[e._v("搜索")])],1),e._v(" "),r("div",{staticClass:"table-wrapper"},[r("Table",{attrs:{size:"small",columns:e.orderColumn,data:e.orderLists}}),e._v(" "),e.orderLists.length>0?r("div",{staticClass:"pagination"},[r("Page",{attrs:{current:e.pageNo,"page-size":5,total:e.totalCount},on:{"update:current":function(t){e.pageNo=t},"on-change":e.pageChange}})],1):e._e()],1)],1),e._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{on:{click:function(t){e.activeModal=!1}}},[e._v("关闭")])],1)])],1)},staticRenderFns:[]};var m=r("VU/8")(u,p,!1,function(e){r("Z2Fs")},"data-v-a43be628",null).exports,f={name:"cancelOrder",data:function(){var e=this;return{cancelOrder:{regionName:"",repairCategoryId:"",orderSn:"",userPhone:"",searchType:1},orderIdSearch:!1,repairLists:[],totalCount:0,pageNo:1,pageSize:5,orderLists:[],orderColumn:[{title:"工单详情",align:"left",render:function(e,t){var r=t.row;return e("span","工单"+r.orderSn+"，\n              "+r.regionName+"，\n             "+r.stationName+"，\n              "+r.repairCategoryName+"，\n              "+r.orderState+"，\n              "+r.userPhone+"，\n              "+r.createTime)}},{title:"操作",align:"center",width:80,render:function(t,r){var a=e;return t("Button",{props:{type:"primary",size:"small"},on:{click:function(){var e=r.row.id,t=r.row.orderState,n=r.row.isInWarrantyPeriod;a.$router.push({name:"orderControl",query:{id:e,state:t,isWarranty:n}})}}},"查看")}}]}},props:{cancelModal:Boolean},computed:{activeModal:{get:function(){return this.cancelModal},set:function(e){this.$emit("close","cancelModal")}}},methods:{searchOrder:function(e){var t=this,r=e.pageNo?e.pageNo:1,a=d.a.formatterParams(this.cancelOrder),n="pageNo="+r+"&pageSize="+this.pageSize;this.$http.post("/index/search/order?"+n+"&"+a).then(function(e){if(0===e.data.code){var r=e.data.data;t.totalCount=r.totalCount,t.orderLists=r.list,t.pageNo=r.pageNo}})},sureSearch:function(e,t){this.cancelOrder[e]=t,this[e+"Search"]=!1},pageChange:function(e){this.pageNo=e,this.searchOrder({pageNo:e})},modalChange:function(e){e||(this.cancelOrder={regionName:"",repairCategoryId:"",orderSn:"",userPhone:"",searchType:1},this.orderLists=[])}},mounted:function(){var e=this;d.a.getRepairType(function(t){e.repairLists=t})}},v={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Modal",{attrs:{"mask-closable":!1,title:"取消工单",width:"700"},on:{"on-visible-change":e.modalChange},model:{value:e.activeModal,callback:function(t){e.activeModal=t},expression:"activeModal"}},[r("div",{staticClass:"new_order_wrapper"},[r("i-form",{attrs:{model:e.cancelOrder,"label-width":80,inline:""}},[r("form-item",{attrs:{label:"服务区域"}},[r("Input",{model:{value:e.cancelOrder.regionName,callback:function(t){e.$set(e.cancelOrder,"regionName",t)},expression:"cancelOrder.regionName"}})],1),e._v(" "),r("form-item",{attrs:{label:"联系手机"}},[r("Input",{model:{value:e.cancelOrder.userPhone,callback:function(t){e.$set(e.cancelOrder,"userPhone",t)},expression:"cancelOrder.userPhone"}})],1),e._v(" "),r("form-item",{attrs:{label:"工单编号"}},[r("Input",{model:{value:e.cancelOrder.orderSn,callback:function(t){e.$set(e.cancelOrder,"orderSn",t)},expression:"cancelOrder.orderSn"}})],1),e._v(" "),r("form-item",{attrs:{label:"报修分类"}},[r("Select",{staticStyle:{width:"162px"},attrs:{clearable:!0},model:{value:e.cancelOrder.repairCategoryId,callback:function(t){e.$set(e.cancelOrder,"repairCategoryId",t)},expression:"cancelOrder.repairCategoryId"}},e._l(e.repairLists,function(t){return r("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.name))])}))],1),e._v(" "),r("Button",{attrs:{type:"primary"},on:{click:e.searchOrder}},[e._v("搜索")])],1),e._v(" "),r("div",{staticClass:"table-wrapper"},[r("Table",{attrs:{size:"small",columns:e.orderColumn,data:e.orderLists}}),e._v(" "),e.orderLists.length>0?r("div",{staticClass:"pagination"},[r("Page",{attrs:{current:e.pageNo,"page-size":5,total:e.totalCount},on:{"update:current":function(t){e.pageNo=t},"on-change":e.pageChange}})],1):e._e()],1)],1),e._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{on:{click:function(t){e.activeModal=!1}}},[e._v("关闭")])],1)])],1)},staticRenderFns:[]};var h=r("VU/8")(f,v,!1,function(e){r("Vs0J")},"data-v-3f635a64",null).exports,g={name:"Index",components:{infoCard:i,orderWeekTrend:c,createOrder:l.a,initiateService:m,cancelOrder:h},data:function(){return{createModal:!1,initiateService:!1,cancelModal:!1,count:{todayNum:0,currentMonthNum:0,totalNum:0}}},methods:{closeModal:function(e){this[e]=!1},getCount:function(){var e=this;this.$http.get("/index/order/count").then(function(t){0===t.data.code?e.count=t.data.data:console.log("首页统计数据："+t.data.msg)})}},mounted:function(){this.getCount()}},y={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home-index"},[r("Row",{attrs:{gutter:15}},[r("Col",{attrs:{sm:24,md:24,lg:16}},[r("Card",[r("p",{attrs:{slot:"title"},slot:"title"},[e._v("工单统计")]),e._v(" "),r("Row",{attrs:{gutter:15}},[r("Col",{attrs:{xs:24,sm:12,md:8}},[r("info-card",{attrs:{"id-name":"today_new_order",title:"今日新增工单","end-val":e.count.todayNum,icon:"md-list"}})],1),e._v(" "),r("Col",{attrs:{xs:24,sm:12,md:8}},[r("info-card",{attrs:{"id-name":"month_new_order",title:"本月新增工单","end-val":e.count.currentMonthNum,color:"#FED478"}})],1),e._v(" "),r("Col",{attrs:{xs:24,sm:12,md:8}},[r("info-card",{attrs:{"id-name":"history_order",title:"历史工单","end-val":e.count.totalNum,color:"#68D576",icon:"ios-filing-outline"}})],1)],1)],1)],1),e._v(" "),r("Col",{attrs:{sm:24,lg:8}},[r("Card",{staticStyle:{width:"100%","margin-bottom":"10px"}},[r("p",{attrs:{slot:"title"},slot:"title"},[e._v("常用操作")]),e._v(" "),r("div",{staticClass:"controls"},[r("div",{staticClass:"control-btn",on:{click:function(t){e.createModal=!0}}},[r("Icon",{attrs:{type:"ios-create",size:"40"}}),e._v(" "),r("p",[e._v("创建工单")])],1),e._v(" "),r("div",{staticClass:"control-btn",on:{click:function(t){e.initiateService=!0}}},[r("Icon",{attrs:{type:"logo-skype",size:"40"}}),e._v(" "),r("p",[e._v("发起售后")])],1),e._v(" "),r("div",{staticClass:"control-btn",on:{click:function(t){e.cancelModal=!0}}},[r("Icon",{attrs:{type:"md-easel",size:"40"}}),e._v(" "),r("p",[e._v("取消工单")])],1)])])],1)],1),e._v(" "),r("Row",[r("Col",{attrs:{lg:24,md:24,sm:24}},[r("Card",{style:{width:"100%"}},[r("p",{attrs:{slot:"title"},slot:"title"},[e._v("工单趋势")]),e._v(" "),r("div",{staticClass:"weekChart",staticStyle:{height:"500px"}},[r("order-week-trend")],1)])],1)],1),e._v(" "),r("create-order",{attrs:{createOrder:e.createModal},on:{close:e.closeModal}}),e._v(" "),r("initiate-service",{attrs:{initiateService:e.initiateService},on:{close:e.closeModal}}),e._v(" "),r("cancel-order",{attrs:{cancelModal:e.cancelModal},on:{close:e.closeModal}})],1)},staticRenderFns:[]};var w=r("VU/8")(g,y,!1,function(e){r("5biH")},"data-v-7f38fca9",null);t.default=w.exports},QZmR:function(e,t){},RWSy:function(e,t){},Vs0J:function(e,t){},Xgsw:function(e,t){},Z2Fs:function(e,t){},fNfo:function(e,t){},ga8b:function(e,t,r){"use strict";var a=r("lZPY"),n=r.n(a);function i(e){var t=0,r="";return e<1e3?t=e:e>=1e3&&e<1e6?(t=parseInt(e/1e3),r="K+"):e>=1e6&&e<1e10?(t=parseInt(e/1e6),r="M+"):(t=parseInt(e/1e9),r="B+"),{val:t,unit:r}}var o={data:function(){return{unit:"",demo:{}}},name:"countUp",props:{idName:String,className:String,startVal:{type:Number,default:0},endVal:{type:Number,required:!0},decimals:{type:Number,default:0},duration:{type:Number,default:2},delay:{type:Number,default:300},options:{type:Object,default:function(){return{useEasing:!0,useGrouping:!0,separator:",",decimal:"."}}},color:String,countSize:{type:String,default:"30px"},countWeight:{type:Number,default:700},introText:[String,Number]},mounted:function(){var e=this;this.$nextTick(function(){setTimeout(function(){var t=i(e.endVal),r=t.val;e.unit=t.unit;var a={};e.demo=a=new n.a(e.idName,e.startVal,r,e.decimals,e.duration,e.options),a.error||a.start()},e.delay)})},watch:{endVal:function(e){var t=this,r=i(e),a=r.val;this.unit=r.unit;var n=setInterval(function(){t.demo.update&&(clearInterval(n),t.demo.update(a))},100)}}},s={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"infor-card-total"},[r("p",{staticClass:"total-count",style:{width:"100%",textAlign:"center",color:e.color,fontSize:e.countSize,fontWeight:e.countWeight}},[r("span",{attrs:{id:e.idName}},[e._v(e._s(e.startVal))]),r("span",[e._v(e._s(e.unit))])]),e._v(" "),e._t("intro")],2)},staticRenderFns:[]};var c=r("VU/8")(o,s,!1,function(e){r("QZmR")},"data-v-46c60f0e",null);t.a=c.exports},lZPY:function(e,t,r){var a,n;void 0===(n="function"==typeof(a=function(e,t,r){return function(e,t,r,a,n,i){for(var o=0,s=["webkit","moz","ms","o"],c=0;c<s.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[s[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[s[c]+"CancelAnimationFrame"]||window[s[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var r=(new Date).getTime(),a=Math.max(0,16-(r-o)),n=window.setTimeout(function(){e(r+a)},a);return o=r+a,n}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)});var l=this;for(var d in l.options={useEasing:!0,useGrouping:!0,separator:",",decimal:".",easingFn:null,formattingFn:null},i)i.hasOwnProperty(d)&&(l.options[d]=i[d]);""===l.options.separator&&(l.options.useGrouping=!1),l.options.prefix||(l.options.prefix=""),l.options.suffix||(l.options.suffix=""),l.d="string"==typeof e?document.getElementById(e):e,l.startVal=Number(t),l.endVal=Number(r),l.countDown=l.startVal>l.endVal,l.frameVal=l.startVal,l.decimals=Math.max(0,a||0),l.dec=Math.pow(10,l.decimals),l.duration=1e3*Number(n)||2e3,l.formatNumber=function(e){var t,r,a,n;if(e=e.toFixed(l.decimals),r=(t=(e+="").split("."))[0],a=t.length>1?l.options.decimal+t[1]:"",n=/(\d+)(\d{3})/,l.options.useGrouping)for(;n.test(r);)r=r.replace(n,"$1"+l.options.separator+"$2");return l.options.prefix+r+a+l.options.suffix},l.easeOutExpo=function(e,t,r,a){return r*(1-Math.pow(2,-10*e/a))*1024/1023+t},l.easingFn=l.options.easingFn?l.options.easingFn:l.easeOutExpo,l.formattingFn=l.options.formattingFn?l.options.formattingFn:l.formatNumber,l.version=function(){return"1.7.1"},l.printValue=function(e){var t=l.formattingFn(e);"INPUT"===l.d.tagName?this.d.value=t:"text"===l.d.tagName||"tspan"===l.d.tagName?this.d.textContent=t:this.d.innerHTML=t},l.count=function(e){l.startTime||(l.startTime=e),l.timestamp=e;var t=e-l.startTime;l.remaining=l.duration-t,l.options.useEasing?l.countDown?l.frameVal=l.startVal-l.easingFn(t,0,l.startVal-l.endVal,l.duration):l.frameVal=l.easingFn(t,l.startVal,l.endVal-l.startVal,l.duration):l.countDown?l.frameVal=l.startVal-(l.startVal-l.endVal)*(t/l.duration):l.frameVal=l.startVal+(l.endVal-l.startVal)*(t/l.duration),l.countDown?l.frameVal=l.frameVal<l.endVal?l.endVal:l.frameVal:l.frameVal=l.frameVal>l.endVal?l.endVal:l.frameVal,l.frameVal=Math.round(l.frameVal*l.dec)/l.dec,l.printValue(l.frameVal),t<l.duration?l.rAF=requestAnimationFrame(l.count):l.callback&&l.callback()},l.start=function(e){return l.callback=e,l.rAF=requestAnimationFrame(l.count),!1},l.pauseResume=function(){l.paused?(l.paused=!1,delete l.startTime,l.duration=l.remaining,l.startVal=l.frameVal,requestAnimationFrame(l.count)):(l.paused=!0,cancelAnimationFrame(l.rAF))},l.reset=function(){l.paused=!1,delete l.startTime,l.startVal=t,cancelAnimationFrame(l.rAF),l.printValue(l.startVal)},l.update=function(e){cancelAnimationFrame(l.rAF),l.paused=!1,delete l.startTime,l.startVal=l.frameVal,l.endVal=Number(e),l.countDown=l.startVal>l.endVal,l.rAF=requestAnimationFrame(l.count)},l.printValue(l.startVal)}})?a.call(t,r,t,e):a)||(e.exports=n)},spv5:function(e,t,r){"use strict";var a=r("Dd8w"),n=r.n(a),i=r("TVG1"),o={name:"createOrder",data:function(){return{needAccept:!1,loadingSubmit:!1,loadingSearch:!1,acceptFee:!1,searchTelRes:[],newOrder:{repairRegionId:"",repairCategoryId:"",userPhone:"",ysyUserPhone:"",repairAddress:""},newOrderRule:{repairAddress:[{required:!0,message:"请输入报修地址",trigger:"blur"}],repairCategoryId:[{required:!0,message:"请选择报修分类",trigger:"change"}],repairRegionId:[{required:!0,message:"请选择报修区域",trigger:"change"}],userPhone:[{required:!0,message:"请输入联系电话",trigger:"blur"},{validator:function(e,t,r){/^1[3456789]\d{9}$/.test(t)||t.length<=0?r():r(new Error("请输入正确格式的手机号码"))},trigger:"blur"}]},ysyTelSearch:!1,repairDisSearch:!1,repairLists:[],regionList:[],ysyUserPhoneValid:!0}},props:{createOrder:Boolean},computed:{activeModal:{get:function(){return this.createOrder},set:function(e){this.$refs.newOrder.resetFields(),this.needAccept=!1,this.$emit("close","createModal")}}},methods:{repairChange:function(e){e&&(e.split("+")[1]>0?this.needAccept=!0:this.needAccept=!1)},setTel:function(e){if(e.length<=0)return this.ysyUserPhoneValid=!0,void(this.newOrder.ysyUserPhone="");/^1[3456789]\d{9}$/.test(e)?(this.ysyUserPhoneValid=!0,this.newOrder.ysyUserPhone=e):this.ysyUserPhoneValid=!1},searchThis:function(e){this[e+"Search"]=!0},sureSearch:function(e,t){this.newOrder[e]=t,this[e+"Search"]=!1},getRegionLists:function(){var e=this;this.$http.get("/repair/region/list").then(function(t){0===t.data.code?e.regionList=t.data.data:console.log("新建工单获取报修区域："+t.data.msg)})},sureSend:function(){var e=this;this.loadingSubmit=!0,this.$refs.newOrder.validate(function(t){if(t){var r=n()({},e.newOrder),a=e.newOrder.repairCategoryId.split("+");if(r.repairCategoryId=a[0],e.needAccept&&!e.acceptFee)return e.$Message.info("请先勾选接受上门费，再继续"),e.loadingSubmit=!1,!1;e.$http.post("/repair/order/add",n()({},r)).then(function(t){0===t.data.code?(e.$Message.success("保存成功"),e.activeModal=!1,e.newOrder={repairRegionId:"",repairCategoryId:"",userPhone:"",ysyUserPhone:"",repairAddress:""},e.needAccept=!1):(e.$Message.error("保存失败："+t.data.msg),e.activeModal=!1),e.loadingSubmit=!1})}else e.loadingSubmit=!1})},searchTel:function(e){var t=this;""!==e?(this.loadingSearch=!0,this.$http.get("/repair/order/user/list?phone="+e).then(function(e){t.loadingSearch=!1,0===e.data.code&&(t.searchTelRes=e.data.data)})):this.searchTelRes=[]}},mounted:function(){var e=this;this.getRegionLists(),i.a.getRepairType(function(t){e.repairLists=t})}},s={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Modal",{attrs:{"mask-closable":!1,title:"新建工单"},model:{value:e.activeModal,callback:function(t){e.activeModal=t},expression:"activeModal"}},[r("div",{staticClass:"new_order_wrapper"},[r("i-form",{ref:"newOrder",attrs:{model:e.newOrder,rules:e.newOrderRule,"label-position":"top"}},[r("form-item",{attrs:{label:"一生约绑定手机（非必填）",prop:"ysyUserPhone"}},[r("Select",{attrs:{filterable:"",remote:"","remote-method":e.searchTel,loading:e.loadingSearch},on:{"on-query-change":e.setTel},model:{value:e.newOrder.ysyUserPhone,callback:function(t){e.$set(e.newOrder,"ysyUserPhone",t)},expression:"newOrder.ysyUserPhone"}},e._l(e.searchTelRes,function(t,a){return r("Option",{key:a,attrs:{value:t}},[e._v(e._s(t))])})),e._v(" "),e.ysyUserPhoneValid?e._e():r("span",{staticClass:"text-red"},[e._v("请填写正确的手机号")])],1),e._v(" "),r("form-item",{attrs:{label:"联系电话",prop:"userPhone"}},[r("Input",{model:{value:e.newOrder.userPhone,callback:function(t){e.$set(e.newOrder,"userPhone",t)},expression:"newOrder.userPhone"}})],1),e._v(" "),r("form-item",{attrs:{label:"报修分类",prop:"repairCategoryId"}},[r("Row",{attrs:{gutter:15}},[r("Col",{attrs:{span:"14"}},[r("Select",{on:{"on-change":e.repairChange},model:{value:e.newOrder.repairCategoryId,callback:function(t){e.$set(e.newOrder,"repairCategoryId",t)},expression:"newOrder.repairCategoryId"}},e._l(e.repairLists,function(t){return r("Option",{key:t.id,attrs:{value:t.id+"+"+t.dtdServiceFee}},[e._v(e._s(t.name)+e._s(t.dtdServiceFee?"(上门费："+t.dtdServiceFee+")":""))])}))],1),e._v(" "),e.needAccept?r("Col",{attrs:{span:"8"}},[r("Checkbox",{model:{value:e.acceptFee,callback:function(t){e.acceptFee=t},expression:"acceptFee"}},[e._v("接受上门费")])],1):e._e()],1)],1),e._v(" "),r("form-item",{attrs:{label:"服务区域",prop:"repairRegionId"}},[r("Select",{model:{value:e.newOrder.repairRegionId,callback:function(t){e.$set(e.newOrder,"repairRegionId",t)},expression:"newOrder.repairRegionId"}},e._l(e.regionList,function(t){return r("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.name))])}))],1),e._v(" "),r("form-item",{attrs:{label:"详细地址",prop:"repairAddress"}},[r("Input",{model:{value:e.newOrder.repairAddress,callback:function(t){e.$set(e.newOrder,"repairAddress",t)},expression:"newOrder.repairAddress"}})],1)],1)],1),e._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{on:{click:function(t){e.activeModal=!1}}},[e._v("取消")]),e._v(" "),r("Button",{attrs:{loading:e.loadingSubmit,type:"primary"},on:{click:e.sureSend}},[e._v("发送至服务网点")])],1)])],1)},staticRenderFns:[]};var c=r("VU/8")(o,s,!1,function(e){r("fNfo")},"data-v-27fbec37",null);t.a=c.exports}});