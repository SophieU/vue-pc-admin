webpackJsonp([42],{"+qbu":function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var o={name:"staff-base",data:function(){return{info:null,edit:!1,stationLists:[],showGroupModal:!1,userGroupInfo:{}}},methods:{getStation:function(){var t=this;this.$http.get("/repair/station/select/list").then(function(s){0===s.data.code?t.stationLists=s.data.data:console.log("员工列表网点下拉"+s.data.msg)})},getInfo:function(t){var s=this;this.$http.get("/server/info?id="+t).then(function(t){0===t.data.code?(s.info=t.data.data,s.$store.commit("setStaffServiceType",s.info.serviceCategoryList),s.$store.commit("setStaffAccount",{username:s.info.username})):console.log("人员基础信息获取失败："+t.data.msg)})},saveInfo:function(){var t=this,s=this.info.repairStationId,a=this.info.id;this.$http.post("/server/change/station?id="+a+"&stationId="+s).then(function(s){0===s.data.code?(t.$Message.success("网点修改成功"),t.edit=!1):t.$Message.error(s.data.msg)})},viewGroup:function(t){var s=this;this.$http.get("/server/group/info?id="+t).then(function(t){0===t.data.code?(s.userGroupInfo=t.data.data,s.showGroupModal=!0):s.$Message.error("获取组信息失败："+t.data.msg)})}},mounted:function(){this.id=this.$route.query.id,this.getInfo(this.id),this.getStation()}},e={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return t.info?a("div",[a("Row",{attrs:{gutter:15}},[a("Col",{attrs:{lg:12,sm:24}},[a("Card",{staticClass:"mb-15"},[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("基础信息：")]),t._v(" "),a("div",{staticStyle:{"margin-top":"-5px"},attrs:{slot:"extra"},slot:"extra"},[t.edit?a("Button",{attrs:{type:"primary"},on:{click:t.saveInfo}},[t._v("保存")]):t._e(),t._v(" "),a("Button",{attrs:{disabled:t.edit},on:{click:function(s){t.edit=!0}}},[t._v("编辑")])],1),t._v(" "),a("div",{staticClass:"info-panel"},[a("ul",{staticClass:"form-ul"},[a("li",[a("span",{staticClass:"label"},[t._v("姓名：")]),t._v(" "),a("span",[t._v(t._s(t.info.trueName))])]),t._v(" "),a("li",[a("span",{staticClass:"label"},[t._v("电话：")]),t._v(" "),a("span",[t._v(t._s(t.info.mobile))])]),t._v(" "),a("li",[a("span",{staticClass:"label"},[t._v("工号：")]),t._v(" "),a("span",[t._v(t._s(t.info.workNumber))])]),t._v(" "),a("li",[a("span",{staticClass:"label"},[t._v("上班状态：")]),t._v(" "),a("span",{staticClass:"text-grey"},[t._v(t._s(t.info.workStateName))])]),t._v(" "),a("li",[a("span",{staticClass:"label"},[t._v("所属网点：")]),t._v(" "),a("Select",{staticStyle:{width:"200px"},attrs:{disabled:!t.edit},model:{value:t.info.repairStationId,callback:function(s){t.$set(t.info,"repairStationId",s)},expression:"info.repairStationId"}},t._l(t.stationLists,function(s){return a("Option",{key:s.id,attrs:{value:s.id}},[t._v(t._s(s.name))])}))],1),t._v(" "),a("li",[a("span",{staticClass:"label"},[t._v("所属组：")]),t._v(" "),a("span",{staticStyle:{"margin-right":"15px"}},[t._v(t._s(t.info.groupName))]),t._v(" "),a("Button",{staticClass:"text-blue",attrs:{type:"text"},on:{click:function(s){t.viewGroup(t.info.groupId)}}},[t._v("查看组信息")])],1),t._v(" "),a("li",[a("span",{staticClass:"label"},[t._v("账号状态：")]),t._v(" "),a("span",{staticClass:"text-grey"},[t._v(t._s(t.info.accountsStateName))])])])])]),t._v(" "),a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("账号信息：")]),t._v(" "),a("div",{staticStyle:{"margin-top":"-5px"},attrs:{slot:"extra"},slot:"extra"},[a("Button",{attrs:{type:"primary"},on:{click:function(s){t.$router.push({name:"staffAccountInfo",params:{id:t.info.id}})}}},[t._v("查看")])],1),t._v(" "),a("ul",{staticClass:"form-ul"},[a("li",[a("span",{staticClass:"label"},[t._v("账号：")]),t._v(" "),a("span",[t._v(t._s(t.info.username))])])])])],1),t._v(" "),a("Col",{attrs:{lg:12,sm:24}},[a("Card",{staticClass:"mb-15"},[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("服务类型：")]),t._v(" "),a("div",{staticStyle:{"margin-top":"-5px"},attrs:{slot:"extra"},slot:"extra"},[a("Button",{attrs:{type:"primary"},on:{click:function(s){t.$router.push({name:"staffServiceType",params:{id:t.info.id}})}}},[t._v("查看")])],1),t._v(" "),a("ul",{staticClass:"service-lists"},t._l(t.info.serviceCategoryList,function(s){return a("li",{key:s,staticClass:"service-tag"},[t._v(t._s(s))])}))]),t._v(" "),a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("统计：")]),t._v(" "),a("div",{staticStyle:{"margin-top":"-5px"},attrs:{slot:"extra"},slot:"extra"},[a("Button",{attrs:{type:"primary"},on:{click:function(s){t.$router.push({name:"staffOrderIncome",params:{id:t.info.id}})}}},[t._v("查看")])],1),t._v(" "),a("ul",{staticClass:"form-ul_column2"},[a("li",[t._v("历史处理工单："),a("span",[t._v(t._s(t.info.orderCountInfo.totalOrderNum))])]),t._v(" "),a("li",[t._v("本月处理工单："),a("span",[t._v(t._s(t.info.orderCountInfo.currentMonthOrderNum))])]),t._v(" "),a("li",[t._v("历史售后工单："),a("span",[t._v(t._s(t.info.orderCountInfo.totalAfterSaleOrderNum))])]),t._v(" "),a("li",[t._v("本月售后工单："),a("span",[t._v(t._s(t.info.orderCountInfo.currentMonthAfterSaleOrderNum))])]),t._v(" "),a("li",[t._v("历史申述次数："),a("span",[t._v(t._s(t.info.orderCountInfo.totalAppealNum))])]),t._v(" "),a("li",[t._v("本月申述次数："),a("span",[t._v(t._s(t.info.orderCountInfo.currentMonthAppealNum))])])])])],1)],1),t._v(" "),a("Modal",{attrs:{title:t.userGroupInfo.stationName+"-"+t.userGroupInfo.groupName},model:{value:t.showGroupModal,callback:function(s){t.showGroupModal=s},expression:"showGroupModal"}},[a("div",[a("h4",{staticStyle:{"font-size":"14px","margin-bottom":"5px"}},[t._v("服务区域：")]),t._v(" "),a("div",{staticClass:"areaWrap"},t._l(t.userGroupInfo.regionNames,function(s){return a("span",{key:s,staticClass:"tag"},[t._v(t._s(s))])}))]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:function(s){t.showGroupModal=!1}}},[t._v("关闭")])],1)])],1):t._e()},staticRenderFns:[]};var i=a("VU/8")(o,e,!1,function(t){a("Fghm")},"data-v-2f601dbf",null);s.default=i.exports},Fghm:function(t,s){}});
//# sourceMappingURL=42.07f972776d9c524c987e.js.map