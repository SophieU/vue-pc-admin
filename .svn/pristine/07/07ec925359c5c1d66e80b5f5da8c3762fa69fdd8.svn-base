webpackJsonp([35],{"3E3W":function(e,t){},eaB6:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Dd8w"),s=a.n(n),r={name:"order-control",data:function(){return{currentCon:"",id:"",reasonLists:[],cancelReason:""}},methods:{demandChange:function(e){switch(console.log(e),e){case"cancel":this.currentCon="cancel";break;case"after":this.currentCon="after";break;default:this.currentCon=""}},cancelOrder:function(){var e=this,t={reasonId:this.cancelReason};this.$http.post("/repair/order/cancel?id="+this.id+"&reasonId="+this.cancelReason,s()({},t)).then(function(t){0===t.data.code?(e.$Message.success("取消成功"),e.$router.push({name:"order-filter"})):e.$Message.error("取消失败，"+t.data.msg)})},startAfter:function(){var e=this;this.$http.post("/repair/order/after/sale/add?id="+this.id).then(function(t){0===t.data.code?(e.$Message.success("售后发起成功"),e.$router.push({name:"order-filter"})):e.$Message.error("发起失败")})},getCancelReason:function(){var e=this;this.$http.post("/repair/order/cancel/reason/list").then(function(t){0===t.data.code?e.reasonLists=t.data.data:console.log("取消原因获取失败："+t.data.msg)})}},mounted:function(){var e=this.$route.query.id;this.id=e,this.getCancelReason()}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"order-control"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"control-flex"},[a("div",{staticClass:"label-title"},[e._v("用户述求：")]),e._v(" "),a("div",{staticClass:"select-wrap"},[a("Select",{staticClass:"mb-15",staticStyle:{width:"200px",display:"block"},on:{"on-change":e.demandChange}},[a("Option",{attrs:{value:"cancel"}},[e._v("取消订单")]),e._v(" "),a("Option",{attrs:{value:"after"}},[e._v("发起售后")])],1),e._v(" "),"cancel"===e.currentCon?a("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择取消原因"},model:{value:e.cancelReason,callback:function(t){e.cancelReason=t},expression:"cancelReason"}},e._l(e.reasonLists,function(t){return a("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.reasonName))])})):e._e()],1),e._v(" "),a("div",{staticClass:"btn-wrap"},["cancel"===e.currentCon?a("Button",{attrs:{type:"primary"},on:{click:e.cancelOrder}},[e._v("取消工单")]):e._e(),e._v(" "),"after"===e.currentCon?a("Button",{attrs:{type:"primary"},on:{click:e.startAfter}},[e._v("发起售后")]):e._e()],1)])])])])},staticRenderFns:[]};var o=a("VU/8")(r,c,!1,function(e){a("3E3W")},"data-v-4836c264",null);t.default=o.exports}});
//# sourceMappingURL=35.183f62c1cfcd459da371.js.map