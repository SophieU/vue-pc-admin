webpackJsonp([43],{EQDM:function(t,e){},NqYp:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Card",{staticClass:"area-setting"},[a("Row",{attrs:{gutter:30}},[a("Col",{attrs:{span:"12"}},[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("区域列表")]),t._v(" "),a("Button",{staticStyle:{"margin-top":"-5px"},attrs:{slot:"extra",type:"primary"},on:{click:t.addArea},slot:"extra"},[t._v("添加区域")]),t._v(" "),a("ul",{staticClass:"area-lists"},t._l(t.areaLists,function(e,s){return a("li",{class:t.editInd===s?"active":"",on:{click:function(e){t.editThis(s)}}},[t._v(t._s(e.name))])}))],1)],1),t._v(" "),a("Col",{attrs:{span:"12"}},[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("区域信息")]),t._v(" "),a("Button",{staticStyle:{"margin-top":"-5px"},attrs:{slot:"extra",type:"error"},on:{click:t.deleteArea},slot:"extra"},[t._v("删除区域")]),t._v(" "),a("div",[a("Form",{attrs:{"label-width":100}},[a("FormItem",{attrs:{label:"区域名称"}},[a("Input",{staticStyle:{width:"300px"},attrs:{maxlength:32},model:{value:t.areaName,callback:function(e){t.areaName=e},expression:"areaName"}})],1),t._v(" "),a("div",{staticClass:"inner-center"},[a("Button",{staticClass:"lang-btn",attrs:{loading:t.loadingSave,type:"primary"},on:{click:t.saveThis}},[t._v("保存")])],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var i=a("VU/8")({name:"area-admin",data:function(){return{areaLists:[],editInd:0,areaName:"",editId:"",radioCheck:"",loadingSave:!1}},methods:{getAreaLists:function(){var t=this;this.$http.get("/repair/region/list").then(function(e){var a=e.data;0===a.code&&(t.areaLists=a.data),0===t.editInd&&(t.areaName=t.areaLists[0].name,t.editId=t.areaLists[0].id)})},editThis:function(t){this.editInd=t,this.editId=this.areaLists[t].id,this.areaName=this.areaLists[t].name},saveThis:function(){var t=this,e=this.areaName,a=this.editId,s="",i="";e.length>0&&a.length>0?(s="/repair/region/edit",i="name="+e+"&id="+a):e.length>0&&!a.length&&(s="/repair/region/add",i="name="+e),this.loadingSave=!0,this.$http.post(s+"?"+i).then(function(e){var a=e.data;0===a.code?(t.$Message.success("保存成功"),t.getAreaLists()):t.$Message.error("保存失败,"+a.msg),t.loadingSave=!1})},addArea:function(){"新建小区"===this.areaLists[this.areaLists.length-1].name?this.$Message.info("请修改新建小区的默认名称"):(this.areaLists.push({name:"新建小区",id:""}),this.editInd=this.areaLists.length-1,this.areaName="新建小区",this.editId="")},deleteArea:function(){var t=this,e=this.editId,a=this.areaLists.length;e?this.$http.delete("/repair/region/delete?id="+e).then(function(e){var a=e.data;0===a.code?(t.$Message.success("删除成功"),t.getAreaLists()):t.$Message.error("删除失败，"+a.msg)}):this.areaLists.splice(a-1,1)}},mounted:function(){this.getAreaLists()}},s,!1,function(t){a("EQDM")},"data-v-2a0ed23a",null);e.default=i.exports}});
//# sourceMappingURL=43.e1b212bd319d5c2c5677.js.map