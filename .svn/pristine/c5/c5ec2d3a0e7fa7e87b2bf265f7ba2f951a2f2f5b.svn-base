webpackJsonp([20],{"NF9+":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("TVG1"),i={name:"staff-admin",data:function(){var t=this;return{filter:!1,columns:[{title:"姓名",key:"trueName",align:"center"},{title:"手机",key:"mobile",align:"center"},{title:"工号",key:"workNumber",align:"center"},{title:"所属网点",key:"repairStationName",align:"center"},{title:"所属组",key:"groupName",align:"center"},{title:"值班状态",key:"workStateName",align:"center"},{title:"备用网点值班",key:"pareDotWorkName",align:"center"},{title:"账号状态",key:"accountsStateName",align:"center"},{title:"接单数",key:"singularNumber",align:"center",sortable:!0},{title:"操作",align:"center",render:function(e,r){var a=t;return e("Button",{props:{type:"text",size:"small"},on:{click:function(){var t=r.row.id;a.$router.push({name:"staffDetail",query:{id:t}})}}},"查看")}}],lists:[],pageNo:1,pageSize:10,totalCount:0,stationLists:[],groupLists:[],filterForm:{trueName:"",mobile:"",workNumber:"",workState:"",pareDotWork:"",accountsState:"",singularNumberStart:null,singularNumberEnd:null,repairStationId:"",serviceGroupId:""}}},methods:{getStation:function(){var t=this;this.$http.get("/repair/station/select/list").then(function(e){0===e.data.code?t.stationLists=e.data.data:console.log("员工列表网点下拉"+e.data.msg)})},getGroup:function(){var t=this;this.$http.get("/server/service/group/list").then(function(e){0===e.data.code&&(t.groupLists=e.data.data)})},getLists:function(t){var e=this,r="pageNo="+this.pageNo+"&pageSize="+this.pageSize;t&&(r=r+"&"+a.a.formatterParams(t)),this.$http.post("/server/list?"+r).then(function(t){if(0===t.data.code){var r=t.data.data;e.lists=r.list,e.pageSize=r.pageSize,e.totalCount=r.totalCount,e.filter=!1}else console.log("员工列表获取失败："+t.data.msg)})},clearFilter:function(){this.filterForm={trueName:"",mobile:"",workNumber:"",workState:"",pareDotWork:"",accountsState:"",singularNumberStart:null,singularNumberEnd:null,repairStationId:"",serviceGroupId:""},this.getLists()},sureFilter:function(){var t=this.filterForm,e={};for(var r in t)t[r]&&(e[r]=t[r]);this.getLists(e)}},mounted:function(){this.getLists(),this.getStation(),this.getGroup()}},l={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Card",[r("div",{staticClass:"mb-15"},[r("Button",{on:{click:function(e){t.filter=!0}}},[t._v("筛选")])],1),t._v(" "),r("div",{staticClass:"table-wrapper"},[r("Table",{attrs:{columns:t.columns,data:t.lists}}),t._v(" "),r("div",{staticClass:"pagination"},[r("Page",{attrs:{total:t.totalCount,"show-sizer":"","show-elevator":""}})],1)],1),t._v(" "),r("Drawer",{attrs:{title:"工单筛选",width:"425"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}},[r("div",{staticClass:"clearfix mb-15"},[r("div",{staticClass:"pull-left"},[r("Button",{on:{click:t.clearFilter}},[t._v("清空筛选条件")])],1),t._v(" "),r("div",{staticClass:"pull-right"},[r("Button",{attrs:{type:"primary"},on:{click:t.sureFilter}},[t._v("确定筛选")])],1)]),t._v(" "),r("Form",{ref:"filterForm",attrs:{model:t.filterForm,"label-position":"top"}},[r("FormItem",{attrs:{label:"员工姓名"}},[r("Input",{model:{value:t.filterForm.trueName,callback:function(e){t.$set(t.filterForm,"trueName",e)},expression:"filterForm.trueName"}})],1),t._v(" "),r("FormItem",{attrs:{label:"员工手机"}},[r("Input",{model:{value:t.filterForm.mobile,callback:function(e){t.$set(t.filterForm,"mobile",e)},expression:"filterForm.mobile"}})],1),t._v(" "),r("FormItem",{attrs:{label:"员工工号"}},[r("Input",{model:{value:t.filterForm.workNumber,callback:function(e){t.$set(t.filterForm,"workNumber",e)},expression:"filterForm.workNumber"}})],1),t._v(" "),r("FormItem",{attrs:{label:"接单单数"}},[r("Row",[r("Col",{attrs:{span:"11"}},[r("InputNumber",{staticStyle:{width:"100%"},model:{value:t.filterForm.singularNumberStart,callback:function(e){t.$set(t.filterForm,"singularNumberStart",e)},expression:"filterForm.singularNumberStart"}})],1),t._v(" "),r("Col",{staticStyle:{"text-align":"center"},attrs:{span:"2"}},[t._v("至")]),t._v(" "),r("Col",{attrs:{span:"11"}},[r("InputNumber",{staticStyle:{width:"100%"},model:{value:t.filterForm.singularNumberEnd,callback:function(e){t.$set(t.filterForm,"singularNumberEnd",e)},expression:"filterForm.singularNumberEnd"}})],1)],1)],1),t._v(" "),r("FormItem",{attrs:{label:"所属服务网点"}},[r("Select",{model:{value:t.filterForm.repairStationId,callback:function(e){t.$set(t.filterForm,"repairStationId",e)},expression:"filterForm.repairStationId"}},t._l(t.stationLists,function(e,a){return r("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1),t._v(" "),r("FormItem",{staticClass:"inline_form_item",attrs:{label:"网点休息中"}},[r("i-switch",{attrs:{"true-value":"VACATION","false-value":"IN_WORK"},model:{value:t.filterForm.workState,callback:function(e){t.$set(t.filterForm,"workState",e)},expression:"filterForm.workState"}})],1),t._v(" "),r("FormItem",{staticClass:"inline_form_item",attrs:{label:"备用网点值班中"}},[r("i-switch",{attrs:{"true-value":"Y","false-value":"N"},model:{value:t.filterForm.pareDotWork,callback:function(e){t.$set(t.filterForm,"pareDotWork",e)},expression:"filterForm.pareDotWork"}})],1),t._v(" "),r("FormItem",{staticClass:"inline_form_item",attrs:{label:"账号停用"}},[r("i-switch",{attrs:{"true-value":"DISABLE","false-value":"NORMAL"},model:{value:t.filterForm.accountsState,callback:function(e){t.$set(t.filterForm,"accountsState",e)},expression:"filterForm.accountsState"}})],1),t._v(" "),r("FormItem",{attrs:{label:"所属组"}},[r("Select",{model:{value:t.filterForm.serviceGroupId,callback:function(e){t.$set(t.filterForm,"serviceGroupId",e)},expression:"filterForm.serviceGroupId"}},t._l(t.groupLists,function(e){return r("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1)],1)],1)],1)},staticRenderFns:[]};var o=r("VU/8")(i,l,!1,function(t){r("wAt2")},"data-v-a97f6fc2",null);e.default=o.exports},wAt2:function(t,e){}});
//# sourceMappingURL=20.bae325f4fc9715548911.js.map